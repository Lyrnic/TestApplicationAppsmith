{
  "backgroundColor": "transparent",
  "borderColor": "transparent",
  "borderRadius": "0px",
  "borderWidth": "",
  "bottomRow": 93,
  "boxShadow": "none",
  "defaultModel": "{{\n{\n\t\"data\": aggreagateData.data_search.data, \"result\" :aggreagateData.interviewDataAll,\n\tdataLoaded:aggreagateData.dataLoaded\n}\n}}",
  "displayName": "Custom",
  "dynamicBindingPathList": [
    {
      "key": "theme"
    },
    {
      "key": "defaultModel"
    }
  ],
  "dynamicHeight": "FIXED",
  "dynamicPropertyPathList": [
    {
      "key": "onJobs"
    },
    {
      "key": "onViewResult"
    },
    {
      "key": "onStartInterview"
    },
    {
      "key": "onProfile"
    }
  ],
  "dynamicTriggerPathList": [
    {
      "key": "onJobs"
    },
    {
      "key": "onViewResult"
    },
    {
      "key": "onStartInterview"
    },
    {
      "key": "onProfile"
    }
  ],
  "events": [
    "onResetClick",
    "onJobs",
    "onViewResult",
    "onStartInterview",
    "onProfile"
  ],
  "features": {
    "dynamicHeight": {
      "active": true,
      "defaultValue": "FIXED",
      "sectionIndex": 2
    }
  },
  "hideCard": false,
  "iconSVG": "/static/media/icon.867bcc8399fa3f897d425d72690b86e4.svg",
  "isCanvas": false,
  "isDeprecated": false,
  "isLoading": false,
  "isSearchWildcard": true,
  "isVisible": true,
  "key": "t7vo655pka",
  "leftColumn": 0,
  "maxDynamicHeight": 9000,
  "minDynamicHeight": 4,
  "mobileBottomRow": 155,
  "mobileLeftColumn": 4,
  "mobileRightColumn": 27,
  "mobileTopRow": 125,
  "onJobs": "{{navigateTo('ApplyJobs', {}, 'SAME_WINDOW');}}",
  "onProfile": "{{navigateTo('Profile', {}, 'SAME_WINDOW');}}",
  "onResetClick": "{{showAlert('Successfully reset!!', '');}}",
  "onStartInterview": "{{jobNavigation.candidateCheck()}}",
  "onViewResult": "{{navigateTo('Result', {}, 'SAME_WINDOW');}}",
  "parentColumnSpace": 14,
  "parentId": "0",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "rightColumn": 64,
  "searchTags": [
    "external"
  ],
  "shouldScrollContents": true,
  "srcDoc": {
    "css": "@charset \"UTF-8\";\n/* --- MERGED :root VARIABLES --- */\n:root {\n  /* From Widget 2 (Content) */\n  --bg-secondary: #F9FBFB;\n  --text-primary: #0f172a;\n  --text-secondary: #64748b;\n  --text-muted: #94a3b8;\n  --border-color: #eef2f7;\n  --success-color: #11D462;\n  --warning-color: #F9C31F;\n  --card-bg: #ffffff;\n  --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);\n  --join-interview-gradient: #0E8FA5;\n  --icon-color-applications: #38b2ac;\n  --icon-color-calendar: #5FC1F1;\n  --icon-color-completed: #48bb78;\n  --icon-color-score: #52C5BB;\n  /* From Widget 1 (Sidebar) */\n  --bg-primary: #ffffff;\n  --bg-accent: #f1f5f9;\n  --primary-color: #17ACA6;\n  --primary-hover: #149993;\n  --sidebar-bg: #FAFAFA;\n  /* Note: text-primary, secondary, muted, border-color, and shadow from Widget 2 take precedence */\n}\n\n/* --- MERGED GLOBAL STYLES --- */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  /*\n   * ‚ÄºÔ∏è CSS FIX ‚ÄºÔ∏è\n   * REMOVED 'font-family: sans-serif !important;' from here.\n   * This universal selector was overriding the Font Awesome icon font.\n   * The 'font-family' is correctly set on 'html, body' below.\n   */\n}\n\nhtml,\nbody {\n  height: 100%;\n  width: 100%;\n  font-family: sans-serif !important;\n  color: var(--text-primary);\n  margin: 0;\n  padding: 0;\n}\n\n/* --- WRAPPER STYLES --- */\n.app-wrapper {\n  display: flex;\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n}\n\n/* Desktop Sidebar */\n.app-wrapper .sidebar {\n  width: 260px; /* Fixed width for sidebar */\n  height: 100vh;\n  flex-shrink: 0;\n  border-right: 1px solid var(--border-color);\n  background: var(--sidebar-bg); /* Use sidebar-specific bg */\n  display: flex;\n  flex-direction: column;\n  transition: width 0.3s ease; /* Add transition for shrinking */\n}\n\n/* Content Area */\n.app-wrapper .dashboard-container {\n  flex-grow: 1;\n  height: 100vh;\n  overflow-y: hidden; /* Allow content to scroll */\n  background-color: #F8FAFB; /* Main content background */\n}\n\n/* --- WIDGET 1 (Sidebar) STYLES --- */\n.sidebar {\n  display: flex;\n  flex-direction: column;\n}\n\n.sidebar-header {\n  padding: 1rem;\n  border-bottom: 1px solid var(--border-color);\n  flex-shrink: 0;\n}\n\n.logo-container {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n.logo {\n  width: 32px;\n  height: 32px;\n  background: linear-gradient(135deg, #17ACA6, #a7f3d0);\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: bold;\n  font-size: 0.875rem;\n  flex-shrink: 0;\n}\n\n.brand-info h2 {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n  margin: 0;\n}\n\n.brand-info p {\n  font-size: 0.875rem;\n  color: var(--text-muted);\n  margin: 0;\n}\n\n.sidebar-nav {\n  flex: 1;\n  padding: 1rem 0;\n  overflow-y: hidden;\n}\n\n.nav-menu {\n  list-style: none;\n  margin-top: 1rem;\n}\n\n.nav-item {\n  margin: 0.25rem 0;\n}\n\n.nav-link {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem 1rem;\n  text-decoration: none;\n  color: var(--text-secondary);\n  transition: all 0.2s ease;\n  border-radius: 0 24px 24px 0;\n  margin-right: 1rem;\n  font-size: 0.875rem;\n}\n\n.nav-link:hover,\n.nav-link.active {\n  background-color: var(--bg-accent);\n  color: var(--primary-color);\n  box-shadow: none;\n}\n\n.nav-link i {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.nav-link svg {\n  width: 20px;\n  height: 20px;\n  stroke: currentColor;\n  fill: none;\n  stroke-width: 2;\n}\n\n.nav-text {\n  flex: 1;\n  white-space: nowrap;\n  color: #3f3f46;\n  transition: opacity 0.3s ease;\n}\n\n/* --- WIDGET 2 (Main Content) STYLES --- */\n.dashboard-container {\n  min-height: 100vh;\n  margin: 0;\n  padding: 0;\n}\n\n.main-content {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  margin: 0;\n  padding: 0;\n}\n\n.page-content {\n  flex: 1;\n  padding: 0;\n  margin: 0;\n}\n\n.page {\n  display: none;\n}\n\n.page.active {\n  display: block;\n}\n\n.page-header {\n  margin-bottom: 2rem;\n  padding: 1.5rem 1.5rem 0;\n}\n\n.page-header h2 {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n\n.page-header p {\n  color: var(--text-secondary);\n}\n\n.btn-apply-job {\n  float: right;\n  margin-top: -2.5rem;\n  background: linear-gradient(135deg, #10b981, #34d399) !important;\n  color: #fff;\n  border: none;\n  padding: 0.6rem 1.2rem;\n  border-radius: 8px;\n  font-weight: 500;\n  cursor: pointer;\n  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n  transition: all 0.3s ease;\n  font-family: sans-serif !important;\n  position: relative;\n  overflow: hidden;\n}\n\n.btn-apply-job::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  transition: left 0.5s;\n}\n\n.btn-apply-job:hover::before {\n  left: 100%;\n}\n\n.btn-apply-job:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);\n}\n\n.cards-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n  gap: 1.5rem;\n  margin: 0 1.5rem 2rem;\n}\n\n.stat-card {\n  background: var(--card-bg);\n  border: 1px solid var(--border-color);\n  border-radius: 8px;\n  padding: 1.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: var(--shadow);\n}\n\n.stat-info p {\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n  margin-bottom: 0.25rem;\n}\n\n.stat-info h3 {\n  font-size: 1.75rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.stat-info h3.score {\n  color: var(--icon-color-completed);\n}\n\n.stat-icon-new {\n  font-size: 1.7rem;\n}\n\n.icon-applications {\n  color: var(--icon-color-applications);\n}\n\n.icon-scheduled {\n  color: var(--icon-color-calendar);\n}\n\n.icon-completed {\n  color: var(--icon-color-completed);\n}\n\n.icon-score {\n  color: var(--icon-color-score);\n}\n\n.content-card {\n  background: var(--card-bg);\n  border: 1px solid var(--border-color);\n  border-radius: 12px;\n  padding: 1.5rem;\n  box-shadow: var(--shadow);\n  margin: 0 1.5rem 2rem;\n}\n\n.content-card h3 {\n  font-size: 1.125rem;\n  font-weight: 600;\n  margin-bottom: 1.5rem;\n}\n\n.applications-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n.application-card {\n  background: #fff;\n  border: 1px solid var(--border-color);\n  border-radius: 12px;\n  box-shadow: var(--shadow);\n  padding: 1.2rem 1.5rem 1rem;\n}\n\n.application-basic {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n  margin-bottom: 1rem;\n  flex-wrap: wrap;\n}\n\n.application-basic .company-name {\n  color: var(--text-secondary);\n  font-size: 0.95rem;\n  margin-top: 0.3rem;\n}\n\n.status-badge {\n  display: none !important;\n}\n\n.status-ai-interview,\n.status-final-interview,\n.status-offer {\n  background-color: #F9C31F !important;\n  color: #fff !important;\n}\n\n.card-buttons {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.btn {\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-weight: 500;\n  align-items: center;\n  display: inline-flex;\n  gap: 0.5em;\n  font-size: 1em;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n\n.btn::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  transition: left 0.5s;\n}\n\n.btn:hover::before {\n  left: 100%;\n}\n\n.btn-start {\n  background: linear-gradient(135deg, #10b981, #34d399) !important;\n  color: white;\n  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n}\n\n.btn-start:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);\n}\n\n.btn-view {\n  background: none;\n  border: 1px solid var(--border-color);\n  color: var(--text-secondary);\n}\n\n.btn-view:hover {\n  border-color: #10b981;\n  background: #f0fdf4;\n  color: #10b981;\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.15);\n}\n\n.accordion-btn {\n  display: none !important;\n}\n\n.accordion-content {\n  display: none !important;\n}\n\n.application-details {\n  border-top: 1px solid var(--border-color);\n  margin-top: 1rem;\n  padding-top: 0.8rem;\n}\n\n.next-interview-card {\n  background: var(--card-bg);\n  border: 1px solid var(--border-color);\n  border-radius: 12px;\n  padding: 1.5rem;\n  box-shadow: var(--shadow);\n  margin: 0 1.5rem 2rem;\n}\n\n.next-interview-card h3 {\n  font-size: 1.125rem;\n  font-weight: 600;\n  margin-bottom: 1.5rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.interview-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.interview-details-main h4 {\n  font-weight: 500;\n  margin-bottom: 0.25rem;\n  font-size: 1.1rem;\n}\n\n.interview-details-main p {\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n  margin-bottom: 1rem;\n}\n\n.schedule-details {\n  display: flex;\n  gap: 1.5rem;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n.schedule-details span i {\n  margin-right: 0.5rem;\n}\n\n.btn-join-interview {\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  color: white;\n  font-weight: 500;\n  cursor: pointer;\n  background: linear-gradient(135deg, #10b981, #34d399);\n  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n\n.btn-join-interview::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  transition: left 0.5s;\n}\n\n.btn-join-interview:hover::before {\n  left: 100%;\n}\n\n.btn-join-interview:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);\n}\n\n/* Minimal styles from content widget */\n.accordion-btn {\n  background: none;\n  border: none;\n  cursor: pointer;\n  margin-left: auto;\n  padding: 8px;\n  display: none;\n}\n\n.card-buttons {\n  display: flex;\n  gap: 8px;\n}\n\n.content-card,\n.next-interview-card {\n  margin-top: 20px;\n}\n\n.stat-card,\n.application-card,\n.next-interview-card {\n  margin-bottom: 16px;\n}\n\n/* --- NEW: Mobile \"Mini-Bar\" Layout --- */\n@media (max-width: 992px) {\n  .app-wrapper .sidebar {\n    width: 72px; /* Shrink sidebar to icon-only width */\n  }\n  .sidebar-header {\n    padding-left: 0;\n    padding-right: 0;\n  }\n  .brand-info {\n    display: none; /* Hide brand text */\n  }\n  .logo-container {\n    justify-content: center; /* Center the 'S' logo */\n  }\n  .nav-link {\n    justify-content: center; /* Center the icon */\n    margin-right: 0.5rem;\n    margin-left: 0.5rem;\n    padding: 0.75rem;\n    border-radius: 8px; /* Adjust border radius */\n    gap: 0; /* Remove gap between icon and text */\n  }\n  .nav-text {\n    display: none; /* Hide nav link text */\n  }\n}\n/* Existing Mobile Styles */\n@media (max-width: 768px) {\n  .recruitment-pipeline {\n    flex-wrap: wrap;\n  }\n  .pipeline-stage {\n    flex-basis: calc(33.33% - 0.5rem);\n  }\n  .interview-info {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n  .btn-join-interview {\n    width: 100%;\n    text-align: center;\n    margin-top: 1rem;\n  }\n  .page-header {\n    padding: 1rem 1rem 0;\n  }\n  .btn-apply-job {\n    float: none;\n    margin-top: 1rem;\n    display: block;\n    text-align: center;\n  }\n  .cards-grid {\n    margin: 0 1rem 2rem;\n    grid-template-columns: 1fr; /* Stack stats cards */\n  }\n  .content-card {\n    margin: 0 1rem 2rem;\n  }\n  .next-interview-card {\n    margin: 0 1rem 2rem;\n  }\n  .application-basic {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.7rem;\n  }\n  .card-buttons {\n    margin-left: 0;\n    align-items: flex-start;\n  }\n}\n/* --- NEW: Hide Messages and Help --- */\n.nav-link[data-page=messages],\n.nav-link[data-page=help] {\n  display: none !important;\n}",
    "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n\t<meta charset=\"UTF-8\">\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\t<title>Safal Candidate Portal</title>\n\t<link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\" rel=\"stylesheet\">\n\t</head>\n<body>\n\n\t<div class=\"app-wrapper\">\n\t\t<aside class=\"sidebar\" id=\"sidebar\">\n\t\t\t<div class=\"sidebar-header\">\n\t\t\t\t<div class=\"logo-container\">\n\t\t\t\t\t<div class=\"logo\">S</div>\n\t\t\t\t\t<div class=\"brand-info\">\n\t\t\t\t\t\t<h2>Safal</h2>\n\t\t\t\t\t\t<p>Candidate Portal</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<nav class=\"sidebar-nav\">\n\t\t\t\t<ul class=\"nav-menu\">\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-link active\" data-page=\"jobs\">\n\t\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t<rect x=\"2\" y=\"7\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\" />\n\t\t\t\t\t\t\t\t\t<path d=\"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<span class=\"nav-text\">Applications & Interviews\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-link\" data-page=\"messages\">\n\t\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t<path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<span class=\"nav-text\">Messages</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-link\" data-page=\"profile\">\n\t\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t<path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" />\n\t\t\t\t\t\t\t\t\t<circle cx=\"12\" cy=\"7\" r=\"4\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<span class=\"nav-text\">Profile</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-link\" data-page=\"help\">\n\t\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"10\" />\n\t\t\t\t\t\t\t\t\t<path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\" />\n\t\t\t\t\t\t\t\t\t<path d=\"M12 17h.01\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<span class=\"nav-text\">Help</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</aside>\n\n\t\t<div class=\"dashboard-container\">\n\t\t\t<div class=\"main-content\">\n\t\t\t\t<main class=\"page-content\" id=\"pageContent\">\n\t\t\t\t\t<div class=\"page jobs-page active\" id=\"jobs\">\n\t\t\t\t\t\t<div class=\"page-header\">\n\t\t\t\t\t\t\t<h2>Applications & Interviews</h2>\n\t\t\t\t\t\t\t<p>Track your job applications and upcoming interviews</p>\n\t\t\t\t\t\t\t<button class=\"btn-apply-job\" onclick=\"appsmith.triggerEvent('onJobs', { page: 'ApplyJobs' })\">\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus\"></i> Apply Job\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"cards-grid\" id=\"statsGrid\">\n\t\t\t\t\t\t\t<p>Loading stats...</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"content-card\">\n\t\t\t\t\t\t\t<h3>Recent Applications</h3>\n\t\t\t\t\t\t\t<div class=\"applications-list\" id=\"applicationsList\">\n\t\t\t\t\t\t\t\t<p>Loading applications...</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"next-interview-card\" id=\"nextInterviewCard\">\n\t\t\t\t\t\t\t<p>Loading next interview...</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\t\n\t</body>\n</html>",
    "importMap": "{}",
    "js": "/* --- WIDGET 1 (Sidebar) CODE --- */\n// Sidebar functionality for Appsmith\n// Triggers a unique Appsmith event for each menu item\nclass Sidebar {\n  constructor() {\n    this.sidebar = document.getElementById('sidebar');\n    this.navLinks = document.querySelectorAll('.nav-link');\n    this.init();\n  }\n  init() {\n    this.setupEventListeners();\n  }\n  setupEventListeners() {\n    this.navLinks.forEach(link => {\n      link.addEventListener('click', e => {\n        e.preventDefault();\n        const page = link.getAttribute('data-page');\n        this.setActiveLink(link);\n\n        // Fire a unique Appsmith event for each menu item\n        if (typeof appsmith !== 'undefined' && appsmith.triggerEvent) {\n          switch (page) {\n            case 'jobs':\n              appsmith.triggerEvent('onJobs', {\n                page: 'jobs'\n              });\n              break;\n            case 'messages':\n              appsmith.triggerEvent('onMessages', {\n                page: 'messages'\n              });\n              break;\n            case 'profile':\n              appsmith.triggerEvent('onProfile', {\n                page: 'profile'\n              });\n              break;\n            case 'help':\n              appsmith.triggerEvent('onHelp', {\n                page: 'help'\n              });\n              break;\n            default:\n              appsmith.triggerEvent('onSidebarNav', {\n                page\n              });\n          }\n        }\n      });\n    });\n  }\n  setActiveLink(activeLink) {\n    this.navLinks.forEach(link => {\n      link.classList.remove('active');\n    });\n    activeLink.classList.add('active');\n  }\n}\n\n/* --- WIDGET 2 (Main Content) CODE --- */\nfunction hasAnalysisResult(candidateId, jobId) {\n  if (window.appsmith && appsmith.model && Array.isArray(appsmith.model.result)) {\n    return appsmith.model.result.some(r => r.candidateId === candidateId && r.jobPostingID === jobId && r.analysisResult);\n  }\n  return false;\n}\nfunction initApp() {\n  const data = appsmith.model.data;\n  if (!data || !Array.isArray(data.applications) || data.applications.length === 0) {\n    document.getElementById('statsGrid').innerHTML = '<p>No application data available.</p>';\n    document.getElementById('applicationsList').innerHTML = '<p>No applications found.</p>';\n    document.getElementById('nextInterviewCard').innerHTML = '<p>No interview scheduled.</p>';\n    return;\n  }\n  const applications = data.applications.map(app => ({\n    title: app.title || 'Untitled Role',\n    company: app.company || 'Unknown Company',\n    status: app.status || 'Applied',\n    statusClass: app.statusClass || 'status-applied',\n    interview: app.interview || {},\n    interviewId: app.interviewId || '',\n    jobId: app.jobId || ''\n  }));\n  const candidateId = data._id || '';\n  const candidate = {\n    totalApplications: applications.length,\n    applications: applications,\n    candidateId: candidateId,\n    nextInterview: data.nextInterview || null\n  };\n\n  // üîç Extract results for this candidate only\n  const allResults = Array.isArray(appsmith.model.result) ? appsmith.model.result : [];\n  const candidateResults = allResults.filter(r => r.candidateId === candidateId);\n\n  // ‚úÖ Compute KPIs from `result` array\n  const interviewsScheduled = candidateResults.length; // one result = one scheduled interview\n  const completedCount = candidateResults.filter(r => r.analysisResult).length;\n\n  // ‚úÖ Compute average of scoring.overallScore from all candidate results that have scoring\n  const validScores = candidateResults.filter(r => r.scoring && typeof r.scoring.overallScore === 'number').map(r => r.scoring.overallScore);\n  const averageJobMatch = validScores.length > 0 ? (validScores.reduce((a, b) => a + b, 0) / validScores.length).toFixed(1) : 0;\n\n  // ‚úÖ Build stats with updated label and value\n  const stats = [{\n    label: \"Total Applications\",\n    value: candidate.totalApplications,\n    icon: \"far fa-file-alt\",\n    class: \"icon-applications\"\n  }, {\n    label: \"Interviews Scheduled\",\n    value: interviewsScheduled,\n    icon: \"far fa-calendar-alt\",\n    class: \"icon-scheduled\"\n  }, {\n    label: \"Completed\",\n    value: completedCount,\n    icon: \"fas fa-check-circle\",\n    class: \"icon-completed\"\n  }, {\n    label: \"Avg. Job Match\",\n    value: `${averageJobMatch}%`,\n    icon: \"fas fa-chart-line\",\n    class: \"icon-score\",\n    isScore: true\n  }];\n  const jobs = candidate.applications.map(app => {\n    const i = app.interview || {};\n    const pipeline = [\"Application\", \"Qualification\", \"AI Interview\", \"Shortlisting\", \"Final Interview\", \"Offer\"];\n    let currentStageIndex = 0;\n    if (i.status === \"Completed\") {\n      currentStageIndex = 5;\n    } else if (i.status === \"Pending\") {\n      currentStageIndex = 2;\n    }\n    return {\n      title: app.title,\n      company: app.company,\n      status: app.status,\n      statusClass: app.statusClass,\n      pipeline: pipeline,\n      currentStage: currentStageIndex,\n      interviewId: app.interviewId,\n      jobId: app.jobId,\n      candidateId: candidate.candidateId,\n      interviews: [{\n        type: i.type || \"AI Interview\",\n        date: i.date || \"Not scheduled\",\n        time: i.time || \"\",\n        duration: i.duration || \"60 min\",\n        status: i.status || \"Not Scheduled\",\n        score: i.score\n      }]\n    };\n  });\n  function renderStats() {\n    const el = document.getElementById('statsGrid');\n    if (!el) return;\n    el.innerHTML = stats.map(stat => `\n\t\t\t<div class=\"stat-card\">\n\t\t\t\t<div class=\"stat-info\">\n\t\t\t\t\t<p>${stat.label}</p>\n\t\t\t\t\t<h3${stat.isScore ? ' class=\"score\"' : ''}>${stat.value}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-icon-new ${stat.class}\">\n\t\t\t\t\t<i class=\"${stat.icon}\"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`).join('');\n  }\n  function renderApplications() {\n    const el = document.getElementById('applicationsList');\n    if (!el || jobs.length === 0) {\n      el.innerHTML = '<p>No applications to display.</p>';\n      return;\n    }\n    el.innerHTML = jobs.map(job => {\n      const i = job.interviews[0];\n      const statusClass = i.status.toLowerCase().replace(/\\s+/g, '-');\n      const scoreText = i.score ? ` ‚Ä¢ Score: ${i.score}` : '';\n      const safeTitle = (job.title || \"\").replace(/\"/g, \"&quot;\");\n      const jobId = (job.jobId || \"\").toString().replace(/\"/g, \"&quot;\");\n      const resultEntry = Array.isArray(appsmith.model.result) ? appsmith.model.result.find(r => r.candidateId === job.candidateId && r.jobPostingID === job.jobId) : null;\n      const hasMeeting = resultEntry && resultEntry.meeting;\n      console.log(resultEntry);\n      let interviewButtonHTML;\n      if (job.status.toLowerCase() === \"rejected\") {\n        interviewButtonHTML = `\n¬† ¬† ¬† ¬† \t<button class=\"btn btn-start disabled rejected-btn\" disabled>\n¬† ¬† ¬† ¬† \t\t<i class=\"fas fa-times-circle\"></i> Rejected\n¬† ¬† ¬† ¬† \t</button>\n¬† ¬† ¬† ¬† \t`;\n      } else if (job.jobId && hasAnalysisResult(job.candidateId, job.jobId)) {\n        interviewButtonHTML = `\n¬† ¬† ¬† ¬† \t<button class=\"btn btn-start disabled\" disabled>\n¬† ¬† ¬† ¬† \t\t<i class=\"fas fa-check\"></i> Interview Done\n¬† ¬† ¬† ¬† \t</button>\n¬† ¬† ¬† ¬† \t`;\n      } else if (!hasMeeting) {\n        interviewButtonHTML = `\n\t\t\t\t\t<button class=\"btn btn-start disabled\" disabled>\n\t\t\t\t\t\t<i class=\"fas fa-check\"></i> Applied\n\t\t\t\t\t</button>\n\t\t\t\t`;\n      } else if (job.jobId && job.jobId.trim() !== '') {\n        interviewButtonHTML = `\n\t\t\t\t\t<button class=\"btn btn-start start-interview-btn\"¬†\n\t\t\t\t\t\t\tdata-job=\"${safeTitle}\"¬†\n\t\t\t\t\t\t\tdata-job-id=\"${jobId}\">\n\t\t\t\t\t\t<i class=\"fas fa-play\"></i> Start Interview\n\t\t\t\t\t</button>\n\t\t\t\t`;\n      } else {\n        interviewButtonHTML = `\n\t\t\t\t\t<button class=\"btn btn-start disabled\" disabled>\n\t\t\t\t\t\tNo Job ID\n\t\t\t\t\t</button>\n\t\t\t\t`;\n      }\n      const pipelineHTML = job.pipeline.map((stage, idx) => {\n        let cls = \"\";\n        if (idx < job.currentStage) cls = \"active\";else if (idx === job.currentStage) cls = \"current\";\n        const icons = {\n          \"Application\": \"fa-paper-plane\",\n          \"Qualification\": \"fa-bullseye\",\n          \"AI Interview\": \"fa-robot\",\n          \"Shortlisting\": \"fa-users\",\n          \"Final Interview\": \"fa-medal\",\n          \"Offer\": \"fa-handshake\"\n        };\n        const icon = icons[stage] || \"fa-circle\";\n        return `\n\t\t\t\t\t<div class=\"pipeline-stage ${cls}\">\n\t\t\t\t\t\t<i class=\"fas ${icon}\"></i>\n\t\t\t\t\t\t<span>${stage}</span>\n\t\t\t\t\t\t${idx === job.currentStage ? '<span class=\"progress-dot\"></span>' : ''}\n\t\t\t\t\t</div>\n\t\t\t\t`;\n      }).join('');\n      return `\n\t\t\t\t<div class=\"application-card\">\n\t\t\t\t\t<div class=\"application-basic\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4>${job.title}</h4>\n\t\t\t\t\t\t\t<p class=\"company-name\">${job.company}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span class=\"status-badge ${job.statusClass}\">${job.status}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div classD=\"card-buttons\">\n\t\t\t\t\t\t\t${interviewButtonHTML}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class=\"accordion-btn\" type=\"button\" title=\"Show more\">\n\t\t\t\t\t\t\t<span class=\"accordion-arrow\"><i class=\"fas fa-chevron-down\"></i></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"accordion-content\">\n\t\t\t\t\t\t<div class=\"recruitment-pipeline\">\n\t\t\t\t\t\t\t${pipelineHTML}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"interviews-section\">\n\t\t\t\t\t\t\t<h4>INTERVIEWS</h4>\n\t\t\t\t\t\t\t<div class=\"interview-item\">\n\t\t\t\t\t\t\t\t<div class=\"interview-details\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-calendar-alt\"></i>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p>${i.type} <span class=\"interview-status ${statusClass}\">${i.status}</span></p>\n\t\t\t\t\t\t\t\t\t\t<small>${i.date} ‚Ä¢ ${i.time} ‚Ä¢ ${i.duration}${scoreText}</small>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n    }).join('');\n  }\n  function renderNextInterview() {\n    const el = document.getElementById('nextInterviewCard');\n    if (!el) return;\n    if (candidate.nextInterview) {\n      const ni = candidate.nextInterview;\n      const safeTitle = (ni.jobTitle || \"\").replace(/'/g, \"\\\\'\");\n      el.innerHTML = `\n\t\t\t\t<h3><i class=\"far fa-clock\"></i> Next Interview</h3>\n\t\t\t\t<div class=\"interview-info\">\n\t\t\t\t\t<div class=\"interview-details-main\">\n\t\t\t\t\t\t<h4>${ni.jobTitle} - ${ni.company}</h4>\n\t\t\t\t\t\t<p>${ni.type} ‚Ä¢ ${ni.duration}</p>\n\t\t\t\t\t\t<div class=\"schedule-details\">\n\t\t\t\t\t\t\t<span><i class=\"far fa-calendar-alt\"></i> ${ni.date}</span>\n\t\t\t\t\t\t\t<span><i class=\"far fa-clock\"></i> ${ni.time}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class=\"btn-join-interview\" onclick=\"appsmith.triggerEvent('onJoinInterview', { job: '${safeTitle}' })\">\n\t\t\t\t\t\t<i class=\"fas fa-video\"></i> Join Interview\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t`;\n    } else {\n      el.innerHTML = `\n\t\t\t\t<h3><i class=\"far fa-clock\"></i> Next Interview</h3>\n\t\t\t\t<p>No upcoming interviews scheduled.</p>\n\t\t\t`;\n    }\n  }\n  document.addEventListener('click', function (e) {\n    const btn = e.target.closest('.accordion-btn');\n    if (!btn) return;\n    const card = btn.closest('.application-card');\n    const isOpen = card.classList.contains('open');\n    document.querySelectorAll('.application-card').forEach(c => {\n      if (c !== card) {\n        c.classList.remove('open');\n        const arrow = c.querySelector('.accordion-arrow');\n        if (arrow) arrow.style.transform = '';\n      }\n    });\n    const arrow = btn.querySelector('.accordion-arrow');\n    if (isOpen) {\n      card.classList.remove('open');\n      if (arrow) arrow.style.transform = '';\n    } else {\n      card.classList.add('open');\n      if (arrow) arrow.style.transform = 'rotate(180deg)';\n    }\n  });\n  document.addEventListener('click', function (e) {\n    const btn = e.target.closest('.start-interview-btn');\n    if (btn) {\n      const job = btn.dataset.job || '';\n      const jobId = btn.dataset.jobId || '';\n      const tenent = appsmith.model.result.filter(x => x.jobPostingID == jobId)[0].tenantPrefix || '';\n      appsmith.updateModel({\n        selectedJobId: jobId,\n        selectedJobTitle: job,\n        tenantPrefix: tenent\n      });\n      appsmith.triggerEvent('onStartInterview', {\n        job,\n        jobId\n      });\n    }\n  });\n  renderStats();\n  renderApplications();\n  renderNextInterview();\n\n  /*\n   * ‚ÄºÔ∏è JAVASCRIPT FIX ‚ÄºÔ∏è\n   * This is the fix for your dynamic loading problem.\n   * After all the content is rendered, this code tells\n   * Font Awesome to scan the page again and convert any new\n   * <i> tags (like in your stats and buttons) into SVG icons.\n   */\n  if (window.FontAwesome && window.FontAwesome.dom) {\n    window.FontAwesome.dom.i2svg();\n  }\n}\n\n/* --- COMBINED INITIALIZATION --- */\nfunction initializeCombinedWidget() {\n  // Initialize Sidebar from Widget 1\n  new Sidebar();\n\n  // Initialize Main Content from Widget 2 (retaining the original 3-sec delay)\n  // const intervalId = setInterval(() => {\n  // if (appsmith?.model?.data) {\n  // initApp();\n  // clearInterval(intervalId); // stop interval after running once\n  // }\n  // }, 6000);\n  const intervalId = setInterval(() => {\n    if (appsmith?.model?.dataLoaded === true) {\n      initApp(); // run your function\n      clearInterval(intervalId); // stop checking further\n    }\n  }, 1000); // check every 1 second (recommended)\n}\n\n// Use Appsmith's onReady or standard DOMContentLoaded to run the combined initializer\nif (typeof appsmith !== 'undefined' && appsmith.onReady) {\n  appsmith.onReady(() => {\n    initializeCombinedWidget();\n  });\n} else {\n  document.addEventListener('DOMContentLoaded', () => {\n    initializeCombinedWidget();\n  });\n}"
  },
  "tags": [
    "Display"
  ],
  "theme": "{{appsmith.theme}}",
  "topRow": 0,
  "type": "CUSTOM_WIDGET",
  "uncompiledSrcDoc": {
    "css": "/* --- MERGED :root VARIABLES --- */\n:root {\n\t/* From Widget 2 (Content) */\n\t--bg-secondary: #F9FBFB;\n\t--text-primary: #0f172a;\n\t--text-secondary: #64748b;\n\t--text-muted: #94a3b8;\n\t--border-color: #eef2f7;\n\t--success-color: #11D462;\n\t--warning-color: #F9C31F;\n\t--card-bg: #ffffff;\n\t--shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);\n\t--join-interview-gradient: #0E8FA5;\n\t--icon-color-applications: #38b2ac;\n\t--icon-color-calendar: #5FC1F1;\n\t--icon-color-completed: #48bb78;\n\t--icon-color-score: #52C5BB;\n\n\t/* From Widget 1 (Sidebar) */\n\t--bg-primary: #ffffff;\n\t--bg-accent: #f1f5f9;\n\t--primary-color: #17ACA6;\n\t--primary-hover: #149993;\n\t--sidebar-bg: #FAFAFA;\n\t/* Note: text-primary, secondary, muted, border-color, and shadow from Widget 2 take precedence */\n}\n\n/* --- MERGED GLOBAL STYLES --- */\n* {\n\tmargin: 0;\n\tpadding: 0;\n\tbox-sizing: border-box;\n\t/*\n\t * ‚ÄºÔ∏è CSS FIX ‚ÄºÔ∏è\n\t * REMOVED 'font-family: sans-serif !important;' from here.\n\t * This universal selector was overriding the Font Awesome icon font.\n\t * The 'font-family' is correctly set on 'html, body' below.\n\t */\n}\n\nhtml,\nbody {\n\theight: 100%;\n\twidth: 100%;\n\tfont-family: sans-serif !important;\n\tcolor: var(--text-primary);\n\tmargin: 0;\n\tpadding: 0;\n}\n\n/* --- WRAPPER STYLES --- */\n.app-wrapper {\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100vh;\n\toverflow: hidden;\n}\n\n/* Desktop Sidebar */\n.app-wrapper .sidebar {\n\twidth: 260px; /* Fixed width for sidebar */\n\theight: 100vh;\n\tflex-shrink: 0;\n\tborder-right: 1px solid var(--border-color);\n\tbackground: var(--sidebar-bg); /* Use sidebar-specific bg */\n\tdisplay: flex;\n\tflex-direction: column;\n\ttransition: width 0.3s ease; /* Add transition for shrinking */\n}\n\n/* Content Area */\n.app-wrapper .dashboard-container {\n\tflex-grow: 1;\n\theight: 100vh;\n\toverflow-y: hidden; /* Allow content to scroll */\n\tbackground-color: #F8FAFB; /* Main content background */\n}\n\n/* --- WIDGET 1 (Sidebar) STYLES --- */\n.sidebar {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.sidebar-header {\n\tpadding: 1rem;\n\tborder-bottom: 1px solid var(--border-color);\n\tflex-shrink: 0;\n}\n\n.logo-container {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.75rem;\n}\n\n.logo {\n\twidth: 32px;\n\theight: 32px;\n\tbackground: linear-gradient(135deg, #17ACA6, #a7f3d0);\n\tborder-radius: 8px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcolor: white;\n\tfont-weight: bold;\n\tfont-size: 0.875rem;\n\tflex-shrink: 0;\n}\n\n.brand-info h2 {\n\tfont-size: 1rem;\n\tfont-weight: 600;\n\tcolor: var(--text-primary);\n\tmargin: 0;\n}\n\n.brand-info p {\n\tfont-size: 0.875rem;\n\tcolor: var(--text-muted);\n\tmargin: 0;\n}\n\n.sidebar-nav {\n\tflex: 1;\n\tpadding: 1rem 0;\n\toverflow-y: hidden;\n}\n\n.nav-menu {\n\tlist-style: none;\n\tmargin-top: 1rem;\n}\n\n.nav-item {\n\tmargin: 0.25rem 0;\n}\n\n.nav-link {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.75rem;\n\tpadding: 0.75rem 1rem;\n\ttext-decoration: none;\n\tcolor: var(--text-secondary);\n\ttransition: all 0.2s ease;\n\tborder-radius: 0 24px 24px 0;\n\tmargin-right: 1rem;\n\tfont-size: 0.875rem;\n}\n\n.nav-link:hover,\n.nav-link.active {\n\tbackground-color: var(--bg-accent);\n\tcolor: var(--primary-color);\n\tbox-shadow: none;\n}\n\n.nav-link i {\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tflex-shrink: 0;\n}\n\n.nav-link svg {\n\twidth: 20px;\n\theight: 20px;\n\tstroke: currentColor;\n\tfill: none;\n\tstroke-width: 2;\n}\n\n.nav-text {\n\tflex: 1;\n\twhite-space: nowrap;\n\tcolor: #3f3f46;\n\ttransition: opacity 0.3s ease;\n}\n\n/* --- WIDGET 2 (Main Content) STYLES --- */\n.dashboard-container {\n\tmin-height: 100vh;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.main-content {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-height: 100vh;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.page-content {\n\tflex: 1;\n\tpadding: 0;\n\tmargin: 0;\n}\n\n.page {\n\tdisplay: none;\n}\n\n.page.active {\n\tdisplay: block;\n}\n\n.page-header {\n\tmargin-bottom: 2rem;\n\tpadding: 1.5rem 1.5rem 0;\n}\n\n.page-header h2 {\n\tfont-size: 1.5rem;\n\tfont-weight: 600;\n\tmargin-bottom: 0.5rem;\n}\n\n.page-header p {\n\tcolor: var(--text-secondary);\n}\n\n.btn-apply-job {\n\tfloat: right;\n\tmargin-top: -2.5rem;\n\tbackground: linear-gradient(135deg, #10b981, #34d399) !important;\n\tcolor: #fff;\n\tborder: none;\n\tpadding: 0.6rem 1.2rem;\n\tborder-radius: 8px;\n\tfont-weight: 500;\n\tcursor: pointer;\n\tbox-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n\ttransition: all 0.3s ease;\n\tfont-family: sans-serif !important;\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.btn-apply-job::before {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: -100%;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n\ttransition: left 0.5s;\n}\n\n.btn-apply-job:hover::before {\n\tleft: 100%;\n}\n\n.btn-apply-job:hover {\n\ttransform: translateY(-2px);\n\tbox-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);\n}\n\n.cards-grid {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n\tgap: 1.5rem;\n\tmargin: 0 1.5rem 2rem;\n}\n\n.stat-card {\n\tbackground: var(--card-bg);\n\tborder: 1px solid var(--border-color);\n\tborder-radius: 8px;\n\tpadding: 1.5rem;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tbox-shadow: var(--shadow);\n}\n\n.stat-info p {\n\tcolor: var(--text-secondary);\n\tfont-size: 0.9rem;\n\tmargin-bottom: 0.25rem;\n}\n\n.stat-info h3 {\n\tfont-size: 1.75rem;\n\tfont-weight: 600;\n\tcolor: var(--text-primary);\n}\n\n.stat-info h3.score {\n\tcolor: var(--icon-color-completed);\n}\n\n.stat-icon-new {\n\tfont-size: 1.7rem;\n}\n\n.icon-applications {\n\tcolor: var(--icon-color-applications);\n}\n\n.icon-scheduled {\n\tcolor: var(--icon-color-calendar);\n}\n\n.icon-completed {\n\tcolor: var(--icon-color-completed);\n}\n\n.icon-score {\n\tcolor: var(--icon-color-score);\n}\n\n.content-card {\n\tbackground: var(--card-bg);\n\tborder: 1px solid var(--border-color);\n\tborder-radius: 12px;\n\tpadding: 1.5rem;\n\tbox-shadow: var(--shadow);\n\tmargin: 0 1.5rem 2rem;\n}\n\n.content-card h3 {\n\tfont-size: 1.125rem;\n\tfont-weight: 600;\n\tmargin-bottom: 1.5rem;\n}\n\n.applications-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 1.5rem;\n}\n\n.application-card {\n\tbackground: #fff;\n\tborder: 1px solid var(--border-color);\n\tborder-radius: 12px;\n\tbox-shadow: var(--shadow);\n\tpadding: 1.2rem 1.5rem 1rem;\n}\n\n.application-basic {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tgap: 1rem;\n\tmargin-bottom: 1rem;\n\tflex-wrap: wrap;\n}\n\n.application-basic .company-name {\n\tcolor: var(--text-secondary);\n\tfont-size: 0.95rem;\n\tmargin-top: 0.3rem;\n}\n\n.status-badge {\n\tdisplay: none !important;\n}\n\n.status-ai-interview,\n.status-final-interview,\n.status-offer {\n\tbackground-color: #F9C31F !important;\n\tcolor: #fff !important;\n}\n\n.card-buttons {\n\tdisplay: flex;\n\tgap: 0.5rem;\n}\n\n.btn {\n\tborder: none;\n\tpadding: 0.5rem 1rem;\n\tborder-radius: 6px;\n\tcursor: pointer;\n\tfont-weight: 500;\n\talign-items: center;\n\tdisplay: inline-flex;\n\tgap: 0.5em;\n\tfont-size: 1em;\n\ttransition: all 0.3s ease;\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.btn::before {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: -100%;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n\ttransition: left 0.5s;\n}\n\n.btn:hover::before {\n\tleft: 100%;\n}\n\n.btn-start {\n\tbackground: linear-gradient(135deg, #10b981, #34d399) !important;\n\tcolor: white;\n\tbox-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n}\n\n.btn-start:hover {\n\ttransform: translateY(-2px);\n\tbox-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);\n}\n\n.btn-view {\n\tbackground: none;\n\tborder: 1px solid var(--border-color);\n\tcolor: var(--text-secondary);\n}\n\n.btn-view:hover {\n\tborder-color: #10b981;\n\tbackground: #f0fdf4;\n\tcolor: #10b981;\n\ttransform: translateY(-1px);\n\tbox-shadow: 0 4px 12px rgba(16, 185, 129, 0.15);\n}\n\n.accordion-btn {\n\tdisplay: none !important;\n}\n\n.accordion-content {\n\tdisplay: none !important;\n}\n\n.application-details {\n\tborder-top: 1px solid var(--border-color);\n\tmargin-top: 1rem;\n\tpadding-top: 0.8rem;\n}\n\n.next-interview-card {\n\tbackground: var(--card-bg);\n\tborder: 1px solid var(--border-color);\n\tborder-radius: 12px;\n\tpadding: 1.5rem;\n\tbox-shadow: var(--shadow);\n\tmargin: 0 1.5rem 2rem;\n}\n\n.next-interview-card h3 {\n\tfont-size: 1.125rem;\n\tfont-weight: 600;\n\tmargin-bottom: 1.5rem;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.5rem;\n}\n\n.interview-info {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tflex-wrap: wrap;\n\tgap: 1rem;\n}\n\n.interview-details-main h4 {\n\tfont-weight: 500;\n\tmargin-bottom: 0.25rem;\n\tfont-size: 1.1rem;\n}\n\n.interview-details-main p {\n\tcolor: var(--text-secondary);\n\tfont-size: 0.9rem;\n\tmargin-bottom: 1rem;\n}\n\n.schedule-details {\n\tdisplay: flex;\n\tgap: 1.5rem;\n\tcolor: var(--text-secondary);\n\tfont-size: 0.9rem;\n}\n\n.schedule-details span i {\n\tmargin-right: 0.5rem;\n}\n\n.btn-join-interview {\n\tborder: none;\n\tpadding: 0.75rem 1.5rem;\n\tborder-radius: 8px;\n\tcolor: white;\n\tfont-weight: 500;\n\tcursor: pointer;\n\tbackground: linear-gradient(135deg, #10b981, #34d399);\n\tbox-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n\ttransition: all 0.3s ease;\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.btn-join-interview::before {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: -100%;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n\ttransition: left 0.5s;\n}\n\n.btn-join-interview:hover::before {\n\tleft: 100%;\n}\n\n.btn-join-interview:hover {\n\ttransform: translateY(-2px);\n\tbox-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);\n}\n\n/* Minimal styles from content widget */\n.accordion-btn {\n\tbackground: none;\n\tborder: none;\n\tcursor: pointer;\n\tmargin-left: auto;\n\tpadding: 8px;\n\tdisplay: none;\n}\n\n.card-buttons {\n\tdisplay: flex;\n\tgap: 8px;\n}\n\n.content-card,\n.next-interview-card {\n\tmargin-top: 20px;\n}\n\n.stat-card,\n.application-card,\n.next-interview-card {\n\tmargin-bottom: 16px;\n}\n\n/* --- NEW: Mobile \"Mini-Bar\" Layout --- */\n@media (max-width: 992px) {\n\t.app-wrapper .sidebar {\n\t\twidth: 72px; /* Shrink sidebar to icon-only width */\n\t}\n\n\t.sidebar-header {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\t}\n\n\t.brand-info {\n\t\tdisplay: none; /* Hide brand text */\n\t}\n\n\t.logo-container {\n\t\tjustify-content: center; /* Center the 'S' logo */\n\t}\n\n\t.nav-link {\n\t\tjustify-content: center; /* Center the icon */\n\t\tmargin-right: 0.5rem;\n\t\tmargin-left: 0.5rem;\n\t\tpadding: 0.75rem;\n\t\tborder-radius: 8px; /* Adjust border radius */\n\t\tgap: 0; /* Remove gap between icon and text */\n\t}\n\n\t.nav-text {\n\t\tdisplay: none; /* Hide nav link text */\n\t}\n}\n\n\n/* Existing Mobile Styles */\n@media (max-width: 768px) {\n\t.recruitment-pipeline {\n\t\tflex-wrap: wrap;\n\t}\n\n\t.pipeline-stage {\n\t\tflex-basis: calc(33.33% - 0.5rem);\n\t}\n\n\t.interview-info {\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t}\n\n\t.btn-join-interview {\n\t\twidth: 100%;\n\t\ttext-align: center;\n\t\tmargin-top: 1rem;\n\t}\n\n\t.page-header {\n\t\tpadding: 1rem 1rem 0;\n\t}\n\n\t.btn-apply-job {\n\t\tfloat: none;\n\t\tmargin-top: 1rem;\n\t\tdisplay: block;\n\t\ttext-align: center;\n\t}\n\n\t.cards-grid {\n\t\tmargin: 0 1rem 2rem;\n\t\tgrid-template-columns: 1fr; /* Stack stats cards */\n\t}\n\n\t.content-card {\n\t\tmargin: 0 1rem 2rem;\n\t}\n\n\t.next-interview-card {\n\t\tmargin: 0 1rem 2rem;\n\t}\n\n\t.application-basic {\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t\tgap: 0.7rem;\n\t}\n\n\t.card-buttons {\n\t\tmargin-left: 0;\n\t\talign-items: flex-start;\n\t}\n}\n\n/* --- NEW: Hide Messages and Help --- */\n.nav-link[data-page=\"messages\"],\n.nav-link[data-page=\"help\"] {\n\tdisplay: none !important;\n}",
    "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n\t<meta charset=\"UTF-8\">\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\t<title>Safal Candidate Portal</title>\n\t<link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\" rel=\"stylesheet\">\n\t</head>\n<body>\n\n\t<div class=\"app-wrapper\">\n\t\t<aside class=\"sidebar\" id=\"sidebar\">\n\t\t\t<div class=\"sidebar-header\">\n\t\t\t\t<div class=\"logo-container\">\n\t\t\t\t\t<div class=\"logo\">S</div>\n\t\t\t\t\t<div class=\"brand-info\">\n\t\t\t\t\t\t<h2>Safal</h2>\n\t\t\t\t\t\t<p>Candidate Portal</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<nav class=\"sidebar-nav\">\n\t\t\t\t<ul class=\"nav-menu\">\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-link active\" data-page=\"jobs\">\n\t\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t<rect x=\"2\" y=\"7\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\" />\n\t\t\t\t\t\t\t\t\t<path d=\"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<span class=\"nav-text\">Applications & Interviews\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-link\" data-page=\"messages\">\n\t\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t<path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<span class=\"nav-text\">Messages</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-link\" data-page=\"profile\">\n\t\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t<path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" />\n\t\t\t\t\t\t\t\t\t<circle cx=\"12\" cy=\"7\" r=\"4\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<span class=\"nav-text\">Profile</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a href=\"#\" class=\"nav-link\" data-page=\"help\">\n\t\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"10\" />\n\t\t\t\t\t\t\t\t\t<path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\" />\n\t\t\t\t\t\t\t\t\t<path d=\"M12 17h.01\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t<span class=\"nav-text\">Help</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</aside>\n\n\t\t<div class=\"dashboard-container\">\n\t\t\t<div class=\"main-content\">\n\t\t\t\t<main class=\"page-content\" id=\"pageContent\">\n\t\t\t\t\t<div class=\"page jobs-page active\" id=\"jobs\">\n\t\t\t\t\t\t<div class=\"page-header\">\n\t\t\t\t\t\t\t<h2>Applications & Interviews</h2>\n\t\t\t\t\t\t\t<p>Track your job applications and upcoming interviews</p>\n\t\t\t\t\t\t\t<button class=\"btn-apply-job\" onclick=\"appsmith.triggerEvent('onJobs', { page: 'ApplyJobs' })\">\n\t\t\t\t\t\t\t\t<i class=\"fas fa-plus\"></i> Apply Job\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"cards-grid\" id=\"statsGrid\">\n\t\t\t\t\t\t\t<p>Loading stats...</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"content-card\">\n\t\t\t\t\t\t\t<h3>Recent Applications</h3>\n\t\t\t\t\t\t\t<div class=\"applications-list\" id=\"applicationsList\">\n\t\t\t\t\t\t\t\t<p>Loading applications...</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"next-interview-card\" id=\"nextInterviewCard\">\n\t\t\t\t\t\t\t<p>Loading next interview...</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\t\n\t</body>\n</html>",
    "importMap": "{}",
    "js": "/* --- WIDGET 1 (Sidebar) CODE --- */\n// Sidebar functionality for Appsmith\n// Triggers a unique Appsmith event for each menu item\nclass Sidebar {\n\tconstructor() {\n\t\tthis.sidebar = document.getElementById('sidebar');\n\t\tthis.navLinks = document.querySelectorAll('.nav-link');\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tthis.setupEventListeners();\n\t}\n\n\tsetupEventListeners() {\n\t\tthis.navLinks.forEach(link => {\n\t\t\tlink.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst page = link.getAttribute('data-page');\n\t\t\t\tthis.setActiveLink(link);\n\n\t\t\t\t// Fire a unique Appsmith event for each menu item\n\t\t\t\tif (typeof appsmith !== 'undefined' && appsmith.triggerEvent) {\n\t\t\t\t\tswitch (page) {\n\t\t\t\t\t\tcase 'jobs':\n\t\t\t\t\t\t\tappsmith.triggerEvent('onJobs', {\n\t\t\t\t\t\t\t\tpage: 'jobs'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'messages':\n\t\t\t\t\t\t\tappsmith.triggerEvent('onMessages', {\n\t\t\t\t\t\t\t\tpage: 'messages'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'profile':\n\t\t\t\t\t\t\tappsmith.triggerEvent('onProfile', {\n\t\t\t\t\t\t\t\tpage: 'profile'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'help':\n\t\t\t\t\t\t\tappsmith.triggerEvent('onHelp', {\n\t\t\t\t\t\t\t\tpage: 'help'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tappsmith.triggerEvent('onSidebarNav', {\n\t\t\t\t\t\t\t\tpage\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tsetActiveLink(activeLink) {\n\t\tthis.navLinks.forEach(link => {\n\t\t\tlink.classList.remove('active');\n\t\t});\n\t\tactiveLink.classList.add('active');\n\t}\n}\n\n\n/* --- WIDGET 2 (Main Content) CODE --- */\nfunction hasAnalysisResult(candidateId, jobId) {\n\tif (window.appsmith && appsmith.model && Array.isArray(appsmith.model.result)) {\n\t\treturn appsmith.model.result.some(r =>\n\t\t\tr.candidateId === candidateId &&\n\t\t\tr.jobPostingID === jobId &&\n\t\t\tr.analysisResult\n\t\t);\n\t}\n\treturn false;\n}\n\nfunction initApp() {\n\tconst data = appsmith.model.data;\n\n\tif (!data || !Array.isArray(data.applications) || data.applications.length === 0) {\n\t\tdocument.getElementById('statsGrid').innerHTML = '<p>No application data available.</p>';\n\t\tdocument.getElementById('applicationsList').innerHTML = '<p>No applications found.</p>';\n\t\tdocument.getElementById('nextInterviewCard').innerHTML = '<p>No interview scheduled.</p>';\n\t\treturn;\n\t}\n\n\tconst applications = data.applications.map(app => ({\n\t\ttitle: app.title || 'Untitled Role',\n\t\tcompany: app.company || 'Unknown Company',\n\t\tstatus: app.status || 'Applied',\n\t\tstatusClass: app.statusClass || 'status-applied',\n\t\tinterview: app.interview || {},\n\t\tinterviewId: app.interviewId || '',\n\t\tjobId: app.jobId || ''\n\t}));\n\n\tconst candidateId = data._id || '';\n\tconst candidate = {\n\t\ttotalApplications: applications.length,\n\t\tapplications: applications,\n\t\tcandidateId: candidateId,\n\t\tnextInterview: data.nextInterview || null\n\t};\n\n\t// üîç Extract results for this candidate only\n\tconst allResults = Array.isArray(appsmith.model.result) ? appsmith.model.result : [];\n\tconst candidateResults = allResults.filter(r => r.candidateId === candidateId);\n\n\t// ‚úÖ Compute KPIs from `result` array\n\tconst interviewsScheduled = candidateResults.length; // one result = one scheduled interview\n\tconst completedCount = candidateResults.filter(r => r.analysisResult).length;\n\n\t// ‚úÖ Compute average of scoring.overallScore from all candidate results that have scoring\n\tconst validScores = candidateResults\n\t\t.filter(r => r.scoring && typeof r.scoring.overallScore === 'number')\n\t\t.map(r => r.scoring.overallScore);\n\n\tconst averageJobMatch = validScores.length > 0 ?\n\t\t(validScores.reduce((a, b) => a + b, 0) / validScores.length).toFixed(1) :\n\t\t0;\n\n\t// ‚úÖ Build stats with updated label and value\n\tconst stats = [{\n\t\tlabel: \"Total Applications\",\n\t\tvalue: candidate.totalApplications,\n\t\ticon: \"far fa-file-alt\",\n\t\tclass: \"icon-applications\"\n\t}, {\n\t\tlabel: \"Interviews Scheduled\",\n\t\tvalue: interviewsScheduled,\n\t\ticon: \"far fa-calendar-alt\",\n\t\tclass: \"icon-scheduled\"\n\t}, {\n\t\tlabel: \"Completed\",\n\t\tvalue: completedCount,\n\t\ticon: \"fas fa-check-circle\",\n\t\tclass: \"icon-completed\"\n\t}, {\n\t\tlabel: \"Avg. Job Match\",\n\t\tvalue: `${averageJobMatch}%`,\n\t\ticon: \"fas fa-chart-line\",\n\t\tclass: \"icon-score\",\n\t\tisScore: true\n\t}];\n\n\tconst jobs = candidate.applications.map(app => {\n\t\tconst i = app.interview || {};\n\t\tconst pipeline = [\"Application\", \"Qualification\", \"AI Interview\", \"Shortlisting\", \"Final Interview\", \"Offer\"];\n\n\t\tlet currentStageIndex = 0;\n\t\tif (i.status === \"Completed\") {\n\t\t\tcurrentStageIndex = 5;\n\t\t} else if (i.status === \"Pending\") {\n\t\t\tcurrentStageIndex = 2;\n\t\t}\n\n\t\treturn {\n\t\t\ttitle: app.title,\n\t\t\tcompany: app.company,\n\t\t\tstatus: app.status,\n\t\t\tstatusClass: app.statusClass,\n\t\t\tpipeline: pipeline,\n\t\t\tcurrentStage: currentStageIndex,\n\t\t\tinterviewId: app.interviewId,\n\t\t\tjobId: app.jobId,\n\t\t\tcandidateId: candidate.candidateId,\n\t\t\tinterviews: [{\n\t\t\t\ttype: i.type || \"AI Interview\",\n\t\t\t\tdate: i.date || \"Not scheduled\",\n\t\t\t\ttime: i.time || \"\",\n\t\t\t\tduration: i.duration || \"60 min\",\n\t\t\t\tstatus: i.status || \"Not Scheduled\",\n\t\t\t\tscore: i.score\n\t\t\t}]\n\t\t};\n\t});\n\n\tfunction renderStats() {\n\t\tconst el = document.getElementById('statsGrid');\n\t\tif (!el) return;\n\t\tel.innerHTML = stats.map(stat => `\n\t\t\t<div class=\"stat-card\">\n\t\t\t\t<div class=\"stat-info\">\n\t\t\t\t\t<p>${stat.label}</p>\n\t\t\t\t\t<h3${stat.isScore ? ' class=\"score\"' : ''}>${stat.value}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-icon-new ${stat.class}\">\n\t\t\t\t\t<i class=\"${stat.icon}\"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`).join('');\n\t}\n\n\tfunction renderApplications() {\n\t\tconst el = document.getElementById('applicationsList');\n\t\tif (!el || jobs.length === 0) {\n\t\t\tel.innerHTML = '<p>No applications to display.</p>';\n\t\t\treturn;\n\t\t}\n\n\t\tel.innerHTML = jobs.map(job => {\n\t\t\tconst i = job.interviews[0];\n\t\t\tconst statusClass = i.status.toLowerCase().replace(/\\s+/g, '-');\n\t\t\tconst scoreText = i.score ? ` ‚Ä¢ Score: ${i.score}` : '';\n\n\t\t\tconst safeTitle = (job.title || \"\").replace(/\"/g, \"&quot;\");\n\t\t\tconst jobId = (job.jobId || \"\").toString().replace(/\"/g, \"&quot;\");\n\n\n\t\t\tconst resultEntry = Array.isArray(appsmith.model.result) ?\n\t\t\t\tappsmith.model.result.find(r => r.candidateId === job.candidateId && r.jobPostingID === job.jobId) :\n\t\t\t\tnull;\n\n\t\t\tconst hasMeeting = resultEntry && resultEntry.meeting;\n\t\t\tconsole.log(resultEntry)\n\t\t\tlet interviewButtonHTML;\n\t\t\tif (job.status.toLowerCase() === \"rejected\") {\n\t\t\t\tinterviewButtonHTML = `\n¬† ¬† ¬† ¬† \t<button class=\"btn btn-start disabled rejected-btn\" disabled>\n¬† ¬† ¬† ¬† \t\t<i class=\"fas fa-times-circle\"></i> Rejected\n¬† ¬† ¬† ¬† \t</button>\n¬† ¬† ¬† ¬† \t`;\n\t\t\t} else if (job.jobId && hasAnalysisResult(job.candidateId, job.jobId)) {\n\t\t\t\tinterviewButtonHTML = `\n¬† ¬† ¬† ¬† \t<button class=\"btn btn-start disabled\" disabled>\n¬† ¬† ¬† ¬† \t\t<i class=\"fas fa-check\"></i> Interview Done\n¬† ¬† ¬† ¬† \t</button>\n¬† ¬† ¬† ¬† \t`;\n\t\t\t} else if (!hasMeeting) {\n\t\t\t\tinterviewButtonHTML = `\n\t\t\t\t\t<button class=\"btn btn-start disabled\" disabled>\n\t\t\t\t\t\t<i class=\"fas fa-check\"></i> Applied\n\t\t\t\t\t</button>\n\t\t\t\t`;\n\t\t\t} else if (job.jobId && job.jobId.trim() !== '') {\n\t\t\t\tinterviewButtonHTML = `\n\t\t\t\t\t<button class=\"btn btn-start start-interview-btn\"¬†\n\t\t\t\t\t\t\tdata-job=\"${safeTitle}\"¬†\n\t\t\t\t\t\t\tdata-job-id=\"${jobId}\">\n\t\t\t\t\t\t<i class=\"fas fa-play\"></i> Start Interview\n\t\t\t\t\t</button>\n\t\t\t\t`;\n\t\t\t} else {\n\t\t\t\tinterviewButtonHTML = `\n\t\t\t\t\t<button class=\"btn btn-start disabled\" disabled>\n\t\t\t\t\t\tNo Job ID\n\t\t\t\t\t</button>\n\t\t\t\t`;\n\t\t\t}\n\n\t\t\tconst pipelineHTML = job.pipeline.map((stage, idx) => {\n\t\t\t\tlet cls = \"\";\n\t\t\t\tif (idx < job.currentStage) cls = \"active\";\n\t\t\t\telse if (idx === job.currentStage) cls = \"current\";\n\t\t\t\tconst icons = {\n\t\t\t\t\t\"Application\": \"fa-paper-plane\",\n\t\t\t\t\t\"Qualification\": \"fa-bullseye\",\n\t\t\t\t\t\"AI Interview\": \"fa-robot\",\n\t\t\t\t\t\"Shortlisting\": \"fa-users\",\n\t\t\t\t\t\"Final Interview\": \"fa-medal\",\n\t\t\t\t\t\"Offer\": \"fa-handshake\"\n\t\t\t\t};\n\t\t\t\tconst icon = icons[stage] || \"fa-circle\";\n\t\t\t\treturn `\n\t\t\t\t\t<div class=\"pipeline-stage ${cls}\">\n\t\t\t\t\t\t<i class=\"fas ${icon}\"></i>\n\t\t\t\t\t\t<span>${stage}</span>\n\t\t\t\t\t\t${idx === job.currentStage ? '<span class=\"progress-dot\"></span>' : ''}\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\t\t\t}).join('');\n\n\t\t\treturn `\n\t\t\t\t<div class=\"application-card\">\n\t\t\t\t\t<div class=\"application-basic\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4>${job.title}</h4>\n\t\t\t\t\t\t\t<p class=\"company-name\">${job.company}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span class=\"status-badge ${job.statusClass}\">${job.status}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div classD=\"card-buttons\">\n\t\t\t\t\t\t\t${interviewButtonHTML}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class=\"accordion-btn\" type=\"button\" title=\"Show more\">\n\t\t\t\t\t\t\t<span class=\"accordion-arrow\"><i class=\"fas fa-chevron-down\"></i></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"accordion-content\">\n\t\t\t\t\t\t<div class=\"recruitment-pipeline\">\n\t\t\t\t\t\t\t${pipelineHTML}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"interviews-section\">\n\t\t\t\t\t\t\t<h4>INTERVIEWS</h4>\n\t\t\t\t\t\t\t<div class=\"interview-item\">\n\t\t\t\t\t\t\t\t<div class=\"interview-details\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-calendar-alt\"></i>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p>${i.type} <span class=\"interview-status ${statusClass}\">${i.status}</span></p>\n\t\t\t\t\t\t\t\t\t\t<small>${i.date} ‚Ä¢ ${i.time} ‚Ä¢ ${i.duration}${scoreText}</small>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}).join('');\n\t}\n\n\tfunction renderNextInterview() {\n\t\tconst el = document.getElementById('nextInterviewCard');\n\t\tif (!el) return;\n\n\t\tif (candidate.nextInterview) {\n\t\t\tconst ni = candidate.nextInterview;\n\t\t\tconst safeTitle = (ni.jobTitle || \"\").replace(/'/g, \"\\\\'\");\n\t\t\tel.innerHTML = `\n\t\t\t\t<h3><i class=\"far fa-clock\"></i> Next Interview</h3>\n\t\t\t\t<div class=\"interview-info\">\n\t\t\t\t\t<div class=\"interview-details-main\">\n\t\t\t\t\t\t<h4>${ni.jobTitle} - ${ni.company}</h4>\n\t\t\t\t\t\t<p>${ni.type} ‚Ä¢ ${ni.duration}</p>\n\t\t\t\t\t\t<div class=\"schedule-details\">\n\t\t\t\t\t\t\t<span><i class=\"far fa-calendar-alt\"></i> ${ni.date}</span>\n\t\t\t\t\t\t\t<span><i class=\"far fa-clock\"></i> ${ni.time}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class=\"btn-join-interview\" onclick=\"appsmith.triggerEvent('onJoinInterview', { job: '${safeTitle}' })\">\n\t\t\t\t\t\t<i class=\"fas fa-video\"></i> Join Interview\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t} else {\n\t\t\tel.innerHTML = `\n\t\t\t\t<h3><i class=\"far fa-clock\"></i> Next Interview</h3>\n\t\t\t\t<p>No upcoming interviews scheduled.</p>\n\t\t\t`;\n\t\t}\n\t}\n\n\tdocument.addEventListener('click', function (e) {\n\t\tconst btn = e.target.closest('.accordion-btn');\n\t\tif (!btn) return;\n\t\tconst card = btn.closest('.application-card');\n\t\tconst isOpen = card.classList.contains('open');\n\n\t\tdocument.querySelectorAll('.application-card').forEach(c => {\n\t\t\tif (c !== card) {\n\t\t\t\tc.classList.remove('open');\n\t\t\t\tconst arrow = c.querySelector('.accordion-arrow');\n\t\t\t\tif (arrow) arrow.style.transform = '';\n\t\t\t}\n\t\t});\n\n\t\tconst arrow = btn.querySelector('.accordion-arrow');\n\t\tif (isOpen) {\n\t\t\tcard.classList.remove('open');\n\t\t\tif (arrow) arrow.style.transform = '';\n\t\t} else {\n\t\t\tcard.classList.add('open');\n\t\t\tif (arrow) arrow.style.transform = 'rotate(180deg)';\n\t\t}\n\t});\n\n\tdocument.addEventListener('click', function (e) {\n\t\tconst btn = e.target.closest('.start-interview-btn');\n\t\tif (btn) {\n\t\t\tconst job = btn.dataset.job || '';\n\t\t\tconst jobId = btn.dataset.jobId || '';\n\t\t\tconst tenent = appsmith.model.result.filter(x=>x.jobPostingID==jobId)[0].tenantPrefix || '';\n\t\t\t\n\n\n\t\t\tappsmith.updateModel({\n\t\t\t\tselectedJobId: jobId,\n\t\t\t\tselectedJobTitle: job,\n\t\t\t\ttenantPrefix:tenent\n\t\t\t});\n\n\t\t\tappsmith.triggerEvent('onStartInterview', {\n\t\t\t\tjob,\n\t\t\t\tjobId\n\t\t\t});\n\t\t}\n\t});\n\n\trenderStats();\n\trenderApplications();\n\trenderNextInterview();\n\n\t/*\n\t * ‚ÄºÔ∏è JAVASCRIPT FIX ‚ÄºÔ∏è\n\t * This is the fix for your dynamic loading problem.\n\t * After all the content is rendered, this code tells\n\t * Font Awesome to scan the page again and convert any new\n\t * <i> tags (like in your stats and buttons) into SVG icons.\n\t */\n\tif (window.FontAwesome && window.FontAwesome.dom) {\n\t\twindow.FontAwesome.dom.i2svg();\n\t}\n}\n\n\n/* --- COMBINED INITIALIZATION --- */\nfunction initializeCombinedWidget() {\n\t// Initialize Sidebar from Widget 1\n\tnew Sidebar();\n\n\t// Initialize Main Content from Widget 2 (retaining the original 3-sec delay)\n\t// const intervalId = setInterval(() => {\n  // if (appsmith?.model?.data) {\n    // initApp();\n    // clearInterval(intervalId); // stop interval after running once\n  // }\n// }, 6000);\n\tconst intervalId = setInterval(() => {\n  if (appsmith?.model?.dataLoaded === true) {\n    initApp();                // run your function\n    clearInterval(intervalId); // stop checking further\n  }\n}, 1000); // check every 1 second (recommended)\n\n}\n\n// Use Appsmith's onReady or standard DOMContentLoaded to run the combined initializer\nif (typeof appsmith !== 'undefined' && appsmith.onReady) {\n\tappsmith.onReady(() => {\n\t\tinitializeCombinedWidget();\n\t});\n} else {\n\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\tinitializeCombinedWidget();\n\t});\n}"
  },
  "version": 1,
  "widgetId": "1b9nxvnbas",
  "widgetName": "Custom4"
}