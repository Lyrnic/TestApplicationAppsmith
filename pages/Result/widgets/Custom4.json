{
  "backgroundColor": "#FFFFFF",
  "borderColor": "#E0DEDE",
  "borderRadius": "0px",
  "borderWidth": "0",
  "bottomRow": 279,
  "boxShadow": "none",
  "defaultModel": "{{\n\t{\"data\" : getUser.data[0]}\n}}",
  "displayName": "Custom",
  "dynamicBindingPathList": [
    {
      "key": "theme"
    },
    {
      "key": "defaultModel"
    }
  ],
  "dynamicHeight": "AUTO_HEIGHT",
  "dynamicTriggerPathList": [
    {
      "key": "goBack"
    }
  ],
  "events": [
    "onResetClick",
    "goBack"
  ],
  "features": {
    "dynamicHeight": {
      "active": true,
      "defaultValue": "FIXED",
      "sectionIndex": 2
    }
  },
  "goBack": "{{navigateTo('Jobs Page', {}, 'SAME_WINDOW');}}",
  "hideCard": false,
  "iconSVG": "/static/media/icon.867bcc8399fa3f897d425d72690b86e4.svg",
  "isCanvas": false,
  "isDeprecated": false,
  "isLoading": false,
  "isSearchWildcard": true,
  "isVisible": true,
  "key": "fo7odf3tuh",
  "leftColumn": 11,
  "maxDynamicHeight": 9000,
  "minDynamicHeight": 4,
  "mobileBottomRow": 30,
  "mobileLeftColumn": 11,
  "mobileRightColumn": 34,
  "mobileTopRow": 0,
  "onResetClick": "{{showAlert('Successfully reset!!', '');}}",
  "originalBottomRow": 382,
  "originalTopRow": 0,
  "parentColumnSpace": 14.03125,
  "parentId": "0",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "rightColumn": 64,
  "searchTags": [
    "external"
  ],
  "shouldScrollContents": true,
  "srcDoc": {
    "css": "",
    "html": "<!DOCTYPE html>\n<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"UTF-8\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n\t\t<title>Candidate Interview Report</title>\n\n\t\t<!-- ApexCharts -->\n\t\t<script src=\"https://cdn.jsdelivr.net/npm/apexcharts\"></script>\n\n\t\t<!-- Font: Inter (clean corporate sans-serif) -->\n\t\t<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\n\n\t\t<style>\n\t\t\t* {\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t}\n\n\t\t\tbody {\n\t\t\t\tfont-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n\t\t\t\tbackground-color: #f9fafb;\n\t\t\t\tcolor: #1f2937;\n\t\t\t\tline-height: 1.6;\n\t\t\t\tpadding: 24px;\n\t\t\t}\n\n\t\t\t.container {\n\t\t\t\tmargin: 0 auto;\n\t\t\t}\n\n\t\t\theader {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: 1fr auto 1fr;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-bottom: 32px;\n\t\t\t\tpadding-bottom: 16px;\n\t\t\t\tborder-bottom: 1px solid #e5e7eb;\n\t\t\t}\n\n\t\t\t.candidate-info {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n\t\t\t\tgap: 16px;\n\t\t\t\tmargin-bottom: 32px;\n\t\t\t}\n\n\t\t\t.info-card {\n\t\t\t\tbackground: white;\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tpadding: 20px;\n\t\t\t\tbox-shadow: 0 2px 6px rgba(0,0,0,0.05);\n\t\t\t\tborder: 1px solid #eaeef2;\n\t\t\t}\n\n\t\t\t.info-card h3 {\n\t\t\t\tfont-size: 12px;\n\t\t\t\tfont-weight: 600;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tcolor: #6b7280;\n\t\t\t\tmargin-bottom: 8px;\n\t\t\t}\n\n\t\t\t.info-card p {\n\t\t\t\tfont-size: 16px;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcolor: #111827;\n\t\t\t}\n\n\t\t\t.section {\n\t\t\t\tbackground: white;\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tpadding: 24px;\n\t\t\t\tmargin-bottom: 28px;\n\t\t\t\tbox-shadow: 0 2px 6px rgba(0,0,0,0.05);\n\t\t\t\tborder: 1px solid #eaeef2;\n\t\t\t}\n\n\t\t\t.section h2 {\n\t\t\t\tfont-size: 18px;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tcolor: #1f2937;\n\t\t\t\tmargin-bottom: 16px;\n\t\t\t\tpadding-bottom: 12px;\n\t\t\t\tborder-bottom: 1px solid #f3f4f6;\n\t\t\t}\n\n\t\t\t.summary-text {\n\t\t\t\tfont-size: 15px;\n\t\t\t\tcolor: #374151;\n\t\t\t\twhite-space: pre-wrap;\n\t\t\t}\n\n\t\t\t.scores {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 20px;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t}\n\n\t\t\t.score-item {\n\t\t\t\tbackground: #f8fafc;\n\t\t\t\tborder: 1px solid #dbeafe;\n\t\t\t\tborder-radius: 10px;\n\t\t\t\tpadding: 14px 20px;\n\t\t\t\tmin-width: 140px;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\n\t\t\t.score-value {\n\t\t\t\tfont-size: 24px;\n\t\t\t\tfont-weight: 700;\n\t\t\t\tcolor: #2563eb;\n\t\t\t\tmargin: 8px 0;\n\t\t\t}\n\n\t\t\t.score-label {\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #4b5563;\n\t\t\t\tfont-weight: 500;\n\t\t\t}\n\n\t\t\t.charts {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: repeat(auto-fit, minmax(350px, 1fr));\n\t\t\t\tgap: 24px;\n\t\t\t\tmargin-top: 16px;\n\t\t\t}\n\n\t\t\t.chart-container {\n\t\t\t\tbackground: white;\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tpadding: 16px;\n\t\t\t\tborder: 1px solid #eaeef2;\n\t\t\t}\n\n\t\t\t.conversation-row {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: 1fr 1fr;\n\t\t\t\tgap: 20px;\n\t\t\t\tpadding: 16px 0;\n\t\t\t\tborder-bottom: 1px solid #f3f4f6;\n\t\t\t}\n\n\t\t\t.conversation-cell {\n\t\t\t\tfont-size: 14px;\n\t\t\t\tcolor: #374151;\n\t\t\t}\n\n\t\t\t.ai-question {\n\t\t\t\tfont-weight: 600;\n\t\t\t\tcolor: #1e40af;\n\t\t\t}\n\n\t\t\t.candidate-response {\n\t\t\t\tcolor: #1f2937;\n\t\t\t}\n\n\t\t\t.feedback-link {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tmargin-top: 8px;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #2563eb;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tfont-weight: 500;\n\t\t\t}\n\n\t\t\t.feedback-link:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\n\t\t\t.buttons {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 12px;\n\t\t\t\tmargin-top: 16px;\n\t\t\t}\n\n\t\t\t.btn {\n\t\t\t\tpadding: 10px 20px;\n\t\t\t\tfont-family: inherit;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tborder: none;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all 0.2s;\n\t\t\t}\n\n\t\t\t.btn-primary {\n\t\t\t\tbackground: #2563eb;\n\t\t\t\tcolor: white;\n\t\t\t}\n\n\t\t\t.btn-primary:hover:not(:disabled) {\n\t\t\t\tbackground: #1d4ed8;\n\t\t\t}\n\n\n\t\t\t.btn-secondary {\n\t\t\t\tbackground: #f3f4f6;\n\t\t\t\tcolor: #374151;\n\t\t\t}\n\n\t\t\t.btn-secondary:hover {\n\t\t\t\tbackground: #e5e7eb;\n\t\t\t}\n\n\t\t\t.btn:disabled {\n\t\t\t\topacity: 0.6;\n\t\t\t\tcursor: not-allowed;\n\t\t\t}\n\n\t\t\t@media (max-width: 768px) {\n\t\t\t\t.conversation-row {\n\t\t\t\t\tgrid-template-columns: 1fr;\n\t\t\t\t\tgap: 12px;\n\t\t\t\t}\n\t\t\t\t.charts {\n\t\t\t\t\tgrid-template-columns: 1fr;\n\t\t\t\t}\n\t\t\t\t.scores {\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t}\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div class=\"container\">\n\t\t\t<header>\n\t\t\t\t<div style=\"justify-self: start;\">\n\t\t\t\t\t<button id=\"backBtn\" class=\"btn btn-secondary\">‚Üê Back</button>\n\t\t\t\t</div>\n\t\t\t\t<h1 style=\"font-size: 24px; font-weight: 700; color: #111827; text-align: center;\">Interview Evaluation Report</h1>\n\t\t\t\t<div class=\"buttons\" style=\"justify-self: end;\">\n\t\t\t\t\t<button id=\"downloadBtn\" class=\"btn btn-secondary\" style=\"display: none;\">Download Transcript</button>\n\t\t\t\t</div>\n\t\t\t</header>\n\n\t\t\t<!-- Candidate Info -->\n\t\t\t<div class=\"candidate-info\">\n\t\t\t\t<div class=\"info-card\">\n\t\t\t\t\t<h3>Candidate Name</h3>\n\t\t\t\t\t<p id=\"name\">‚Äî</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"info-card\">\n\t\t\t\t\t<h3>Applied Role</h3>\n\t\t\t\t\t<p id=\"role\">‚Äî</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"info-card\">\n\t\t\t\t\t<h3>Interview Date</h3>\n\t\t\t\t\t<p id=\"date\">‚Äî</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Scores -->\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Performance Scores</h2>\n\t\t\t\t<div class=\"scores\">\n\t\t\t\t\t<div class=\"score-item\">\n\t\t\t\t\t\t<div class=\"score-label\">Overall Score</div>\n\t\t\t\t\t\t<div class=\"score-value\" id=\"averageScore\">‚Äî</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"score-item\">\n\t\t\t\t\t\t<div class=\"score-label\">Qualitative Score</div>\n\t\t\t\t\t\t<div class=\"score-value\" id=\"qualitativeScore\">‚Äî</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"score-item\">\n\t\t\t\t\t\t<div class=\"score-label\">Quantitative Score</div>\n\t\t\t\t\t\t<div class=\"score-value\" id=\"quantitativeScore\">‚Äî</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<!-- Charts -->\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Performance Analysis</h2>\n\t\t\t\t<div class=\"charts\">\n\t\t\t\t\t<div class=\"chart-container\" id=\"performanceScoresChart\"></div>\n\t\t\t\t\t<div class=\"chart-container\" id=\"behavioralStrengthsChart\"></div>\n\t\t\t\t\t<div class=\"chart-container\" id=\"responseOverviewChart\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Summaries -->\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Candidate Summary</h2>\n\t\t\t\t<p class=\"summary-text\" id=\"candidateSummary\">Loading...</p>\n\t\t\t</div>\n\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Conversation Summary</h2>\n\t\t\t\t<p class=\"summary-text\" id=\"conversationSummary\">Loading...</p>\n\t\t\t</div>\n\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Final Recommendation</h2>\n\t\t\t\t<p class=\"summary-text\" id=\"finalSummary\">Loading...</p>\n\t\t\t</div>\n\n\t\t\t<!-- Conversation -->\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Interview Transcript</h2>\n\t\t\t\t<div id=\"conversation-content\">\n\t\t\t\t\t<p>Loading conversation...</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- ‚úÖ Your JavaScript -->\n\t\t<script>\n\t\t\t// The content of File 2 will go here\n\t\t</script>\n\t</body>\n</html>",
    "importMap": "{}",
    "js": "function initApp() {\n  const data = appsmith.model.data;\n  const analysis = data.analysisResult || {};\n\n  // Helper to safely set text\n  const setText = (id, txt) => {\n    const el = document.getElementById(id);\n    if (el) el.textContent = txt;\n  };\n\n  // Candidate Info\n  setText('name', analysis.CandidateInformation?.Name || data.name || 'N/A');\n  setText('role', analysis.CandidateInformation?.Position || data.jobRole || 'N/A');\n\n  // Interview date\n  let dateStr = 'N/A';\n  if (data.meeting?.start?.dateTime) {\n    const d = new Date(data.meeting.start.dateTime);\n    dateStr = `${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}-${d.getFullYear()}`;\n  }\n  setText('date', dateStr);\n\n  // Summaries\n  setText('candidateSummary', analysis.OtherDetails?.CandidateSummary || data.summary || 'No summary available.');\n  setText('conversationSummary', analysis.OtherDetails?.ConversationSummary || data.wrapupComments || 'No conversation summary.');\n  setText('finalSummary', analysis.OtherDetails?.FinalSummary !== \"Analysis not available\" ? analysis.OtherDetails.FinalSummary : data.wrapupComments || \"Analysis not available.\");\n\n  // --- SCORES SECTION ---\n  const otherDetails = analysis.OtherDetails || {};\n\n  // Show text scores\n  setText('averageScore', `${Math.round(otherDetails.AverageScore ?? 0)}/100`);\n  setText('qualitativeScore', `${Math.round(otherDetails.QualitativeScore ?? 0)}/100`);\n  setText('quantitativeScore', `${Math.round(otherDetails.QuantitativeScore ?? 0)}/100`);\n\n  // --- CHARTS SECTION ---\n  if (typeof ApexCharts === 'undefined') return;\n  const strengths = analysis.Strengths || {};\n\n  // Chart 1: Performance Scores\n  const performanceScoresOptions = {\n    series: [{\n      name: 'Competency/Accuracy',\n      data: [0, otherDetails.CompetencyAccuracyScore || 0]\n    }, {\n      name: 'Confidence',\n      data: [0, otherDetails.ConfidenceScore || 0]\n    }, {\n      name: 'Communication',\n      data: [0, otherDetails.CommunicationScore || 0]\n    }],\n    chart: {\n      height: 350,\n      type: 'line',\n      toolbar: {\n        show: false\n      },\n      zoom: {\n        enabled: false\n      }\n    },\n    title: {\n      text: 'Performance Scores',\n      align: 'left',\n      style: {\n        fontSize: '18px',\n        fontWeight: '600',\n        color: '#1f2937'\n      }\n    },\n    xaxis: {\n      categories: ['Start', 'End'],\n      labels: {\n        style: {\n          fontSize: '14px'\n        }\n      }\n    },\n    yaxis: {\n      min: 0,\n      max: 100,\n      labels: {\n        formatter: val => val.toFixed(0) + \"%\",\n        style: {\n          fontSize: '14px'\n        }\n      }\n    },\n    stroke: {\n      curve: 'smooth',\n      width: 3\n    },\n    colors: ['#22c55e', '#f97316', '#ef4444'],\n    // Green, Orange, Red\n    markers: {\n      size: 0\n    },\n    legend: {\n      position: 'bottom',\n      horizontalAlign: 'left',\n      fontSize: '14px',\n      offsetY: 5,\n      markers: {\n        width: 12,\n        height: 12,\n        radius: 12\n      },\n      itemMargin: {\n        horizontal: 10,\n        vertical: 5\n      }\n    },\n    dataLabels: {\n      enabled: true,\n      formatter: function (val, opts) {\n        return opts.dataPointIndex === 1 ? val + '%' : '';\n      },\n      style: {\n        fontSize: '12px',\n        fontWeight: 'bold',\n        colors: undefined\n      },\n      background: {\n        enabled: true,\n        foreColor: '#fff',\n        padding: 4,\n        borderRadius: 2,\n        borderWidth: 1,\n        borderColor: '#ddd'\n      },\n      offsetY: -15\n    },\n    grid: {\n      borderColor: '#f1f5f9'\n    }\n  };\n  new ApexCharts(document.querySelector(\"#performanceScoresChart\"), performanceScoresOptions).render();\n\n  // Chart 2: Behavioral Strengths\n  const behavioralStrengthsOptions = {\n    series: [{\n      name: 'Score',\n      data: [strengths.Perseverance?.score || 0, strengths.Adaptability?.score || 0, strengths.ProblemSolving?.score || 0]\n    }],\n    chart: {\n      type: 'bar',\n      height: 350,\n      toolbar: {\n        show: false\n      }\n    },\n    title: {\n      text: 'Behavioral Strengths',\n      align: 'left',\n      style: {\n        fontSize: '18px',\n        fontWeight: '600',\n        color: '#1f2937'\n      }\n    },\n    plotOptions: {\n      bar: {\n        distributed: true,\n        borderRadius: 4,\n        horizontal: false,\n        columnWidth: '50%'\n      }\n    },\n    dataLabels: {\n      enabled: true,\n      style: {\n        colors: ['#fff'],\n        fontSize: '16px',\n        fontWeight: 'bold'\n      }\n    },\n    xaxis: {\n      categories: ['Perseverance', 'Adaptability', 'Problem-Solving'],\n      labels: {\n        style: {\n          fontSize: '14px'\n        }\n      }\n    },\n    yaxis: {\n      max: 50,\n      labels: {\n        style: {\n          fontSize: '14px'\n        }\n      }\n    },\n    colors: ['#3b82f6', '#10b981', '#f59e0b'],\n    // Blue, Green, Yellow\n    legend: {\n      show: false\n    },\n    grid: {\n      borderColor: '#f1f5f9',\n      xaxis: {\n        lines: {\n          show: false\n        }\n      }\n    }\n  };\n  new ApexCharts(document.querySelector(\"#behavioralStrengthsChart\"), behavioralStrengthsOptions).render();\n\n  // Chart 3: Response Time Overview\n  const conv = data.interviewConversations || [];\n  const labels = [],\n    times = [];\n  for (let i = 0; i < conv.length - 1; i++) {\n    if (conv[i].role === 'assistant' && conv[i + 1].role === 'user' && conv[i + 1].content?.trim()) {\n      const t1 = new Date(conv[i].timestamp).getTime();\n      const t2 = new Date(conv[i + 1].timestamp).getTime();\n      times.push(Math.max(0, t2 - t1)); // time in milliseconds\n      labels.push(`Q${labels.length + 1}`);\n    }\n  }\n  const responseTimeOptions = {\n    series: [{\n      name: 'Response Time',\n      data: times.length ? times : [0]\n    }],\n    chart: {\n      height: 350,\n      type: 'line',\n      toolbar: {\n        show: false\n      },\n      zoom: {\n        enabled: false\n      }\n    },\n    title: {\n      text: 'Response Time Overview',\n      align: 'left',\n      style: {\n        fontSize: '18px',\n        fontWeight: '600',\n        color: '#1f2937'\n      }\n    },\n    stroke: {\n      curve: 'smooth',\n      width: 3\n    },\n    xaxis: {\n      categories: labels.length ? labels : ['No Data'],\n      title: {\n        text: 'Questions',\n        style: {\n          fontSize: '14px',\n          fontWeight: '500'\n        }\n      },\n      labels: {\n        style: {\n          fontSize: '14px'\n        }\n      }\n    },\n    yaxis: {\n      title: {\n        text: 'Time (Seconds)',\n        style: {\n          fontSize: '14px',\n          fontWeight: '500'\n        }\n      },\n      labels: {\n        formatter: val => (val / 1000).toFixed(0),\n        style: {\n          fontSize: '14px'\n        }\n      }\n    },\n    colors: ['#4f46e5'],\n    // Indigo\n    grid: {\n      borderColor: '#f1f5f9'\n    }\n  };\n  new ApexCharts(document.querySelector(\"#responseOverviewChart\"), responseTimeOptions).render();\n\n  // Conversation Section\n  const paired = [];\n  let i = 0;\n  while (i < conv.length) {\n    let ai = '',\n      user = '';\n    while (i < conv.length && conv[i].role === 'assistant') ai += (ai ? ' ' : '') + (conv[i++].content || '');\n    while (i < conv.length && conv[i].role === 'user') user += (user ? ' ' : '') + (conv[i++].content || '');\n    if (ai || user) paired.push({\n      ai,\n      user\n    });\n  }\n  const content = document.getElementById('conversation-content');\n  if (paired.length === 0) {\n    content.innerHTML = '<p>No conversation data available.</p>';\n  } else {\n    content.innerHTML = paired.map((p, idx) => `\n      <div class=\"conversation-row\">\n        <div class=\"conversation-cell ai-question\">${p.ai || '<em>No question</em>'}</div>\n        <div class=\"conversation-cell candidate-response\">\n          ${p.user || '<em>No response</em>'}\n          <a href=\"#\" class=\"feedback-link\" data-idx=\"${idx}\">üìù Provide Feedback</a>\n        </div>\n      </div>\n    `).join('');\n    content.querySelectorAll('.feedback-link').forEach(link => {\n      link.addEventListener('click', e => {\n        e.preventDefault();\n        const msg = paired[link.dataset.idx];\n        appsmith.updateModel({\n          aiMessage: msg.ai,\n          candidateMessage: msg.user\n        });\n        appsmith.triggerEvent('feedback');\n      });\n    });\n  }\n}\n\n// Button handlers\ndocument.getElementById('backBtn')?.addEventListener('click', () => appsmith.triggerEvent('goBack'));\ndocument.getElementById('downloadBtn')?.addEventListener('click', () => appsmith.triggerEvent('downloadConvo'));\nconst videoBtn = document.getElementById('downloadVideoBtn');\nif (videoBtn) {\n  if (!appsmith.model?.videoLink) {\n    videoBtn.disabled = true;\n    videoBtn.style.opacity = '0.6';\n    videoBtn.style.cursor = 'not-allowed';\n  } else {\n    videoBtn.addEventListener('click', () => appsmith.triggerEvent('downloadVideo'));\n  }\n}\n\n// Init when ready\nappsmith.onReady(() => {\n  const iv = setInterval(() => {\n    if (appsmith.model?.data) {\n      initApp();\n      clearInterval(iv);\n    }\n  }, 300);\n});"
  },
  "tags": [
    "Display"
  ],
  "theme": "{{appsmith.theme}}",
  "topRow": 0,
  "type": "CUSTOM_WIDGET",
  "uncompiledSrcDoc": {
    "css": "",
    "html": "<!DOCTYPE html>\n<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"UTF-8\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n\t\t<title>Candidate Interview Report</title>\n\n\t\t<!-- ApexCharts -->\n\t\t<script src=\"https://cdn.jsdelivr.net/npm/apexcharts\"></script>\n\n\t\t<!-- Font: Inter (clean corporate sans-serif) -->\n\t\t<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\n\n\t\t<style>\n\t\t\t* {\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t}\n\n\t\t\tbody {\n\t\t\t\tfont-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n\t\t\t\tbackground-color: #f9fafb;\n\t\t\t\tcolor: #1f2937;\n\t\t\t\tline-height: 1.6;\n\t\t\t\tpadding: 24px;\n\t\t\t}\n\n\t\t\t.container {\n\t\t\t\tmargin: 0 auto;\n\t\t\t}\n\n\t\t\theader {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: 1fr auto 1fr;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-bottom: 32px;\n\t\t\t\tpadding-bottom: 16px;\n\t\t\t\tborder-bottom: 1px solid #e5e7eb;\n\t\t\t}\n\n\t\t\t.candidate-info {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n\t\t\t\tgap: 16px;\n\t\t\t\tmargin-bottom: 32px;\n\t\t\t}\n\n\t\t\t.info-card {\n\t\t\t\tbackground: white;\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tpadding: 20px;\n\t\t\t\tbox-shadow: 0 2px 6px rgba(0,0,0,0.05);\n\t\t\t\tborder: 1px solid #eaeef2;\n\t\t\t}\n\n\t\t\t.info-card h3 {\n\t\t\t\tfont-size: 12px;\n\t\t\t\tfont-weight: 600;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tcolor: #6b7280;\n\t\t\t\tmargin-bottom: 8px;\n\t\t\t}\n\n\t\t\t.info-card p {\n\t\t\t\tfont-size: 16px;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcolor: #111827;\n\t\t\t}\n\n\t\t\t.section {\n\t\t\t\tbackground: white;\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tpadding: 24px;\n\t\t\t\tmargin-bottom: 28px;\n\t\t\t\tbox-shadow: 0 2px 6px rgba(0,0,0,0.05);\n\t\t\t\tborder: 1px solid #eaeef2;\n\t\t\t}\n\n\t\t\t.section h2 {\n\t\t\t\tfont-size: 18px;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tcolor: #1f2937;\n\t\t\t\tmargin-bottom: 16px;\n\t\t\t\tpadding-bottom: 12px;\n\t\t\t\tborder-bottom: 1px solid #f3f4f6;\n\t\t\t}\n\n\t\t\t.summary-text {\n\t\t\t\tfont-size: 15px;\n\t\t\t\tcolor: #374151;\n\t\t\t\twhite-space: pre-wrap;\n\t\t\t}\n\n\t\t\t.scores {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 20px;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t}\n\n\t\t\t.score-item {\n\t\t\t\tbackground: #f8fafc;\n\t\t\t\tborder: 1px solid #dbeafe;\n\t\t\t\tborder-radius: 10px;\n\t\t\t\tpadding: 14px 20px;\n\t\t\t\tmin-width: 140px;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\n\t\t\t.score-value {\n\t\t\t\tfont-size: 24px;\n\t\t\t\tfont-weight: 700;\n\t\t\t\tcolor: #2563eb;\n\t\t\t\tmargin: 8px 0;\n\t\t\t}\n\n\t\t\t.score-label {\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #4b5563;\n\t\t\t\tfont-weight: 500;\n\t\t\t}\n\n\t\t\t.charts {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: repeat(auto-fit, minmax(350px, 1fr));\n\t\t\t\tgap: 24px;\n\t\t\t\tmargin-top: 16px;\n\t\t\t}\n\n\t\t\t.chart-container {\n\t\t\t\tbackground: white;\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tpadding: 16px;\n\t\t\t\tborder: 1px solid #eaeef2;\n\t\t\t}\n\n\t\t\t.conversation-row {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: 1fr 1fr;\n\t\t\t\tgap: 20px;\n\t\t\t\tpadding: 16px 0;\n\t\t\t\tborder-bottom: 1px solid #f3f4f6;\n\t\t\t}\n\n\t\t\t.conversation-cell {\n\t\t\t\tfont-size: 14px;\n\t\t\t\tcolor: #374151;\n\t\t\t}\n\n\t\t\t.ai-question {\n\t\t\t\tfont-weight: 600;\n\t\t\t\tcolor: #1e40af;\n\t\t\t}\n\n\t\t\t.candidate-response {\n\t\t\t\tcolor: #1f2937;\n\t\t\t}\n\n\t\t\t.feedback-link {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tmargin-top: 8px;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #2563eb;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tfont-weight: 500;\n\t\t\t}\n\n\t\t\t.feedback-link:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\n\t\t\t.buttons {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 12px;\n\t\t\t\tmargin-top: 16px;\n\t\t\t}\n\n\t\t\t.btn {\n\t\t\t\tpadding: 10px 20px;\n\t\t\t\tfont-family: inherit;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tborder: none;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all 0.2s;\n\t\t\t}\n\n\t\t\t.btn-primary {\n\t\t\t\tbackground: #2563eb;\n\t\t\t\tcolor: white;\n\t\t\t}\n\n\t\t\t.btn-primary:hover:not(:disabled) {\n\t\t\t\tbackground: #1d4ed8;\n\t\t\t}\n\n\n\t\t\t.btn-secondary {\n\t\t\t\tbackground: #f3f4f6;\n\t\t\t\tcolor: #374151;\n\t\t\t}\n\n\t\t\t.btn-secondary:hover {\n\t\t\t\tbackground: #e5e7eb;\n\t\t\t}\n\n\t\t\t.btn:disabled {\n\t\t\t\topacity: 0.6;\n\t\t\t\tcursor: not-allowed;\n\t\t\t}\n\n\t\t\t@media (max-width: 768px) {\n\t\t\t\t.conversation-row {\n\t\t\t\t\tgrid-template-columns: 1fr;\n\t\t\t\t\tgap: 12px;\n\t\t\t\t}\n\t\t\t\t.charts {\n\t\t\t\t\tgrid-template-columns: 1fr;\n\t\t\t\t}\n\t\t\t\t.scores {\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t}\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div class=\"container\">\n\t\t\t<header>\n\t\t\t\t<div style=\"justify-self: start;\">\n\t\t\t\t\t<button id=\"backBtn\" class=\"btn btn-secondary\">‚Üê Back</button>\n\t\t\t\t</div>\n\t\t\t\t<h1 style=\"font-size: 24px; font-weight: 700; color: #111827; text-align: center;\">Interview Evaluation Report</h1>\n\t\t\t\t<div class=\"buttons\" style=\"justify-self: end;\">\n\t\t\t\t\t<button id=\"downloadBtn\" class=\"btn btn-secondary\" style=\"display: none;\">Download Transcript</button>\n\t\t\t\t</div>\n\t\t\t</header>\n\n\t\t\t<!-- Candidate Info -->\n\t\t\t<div class=\"candidate-info\">\n\t\t\t\t<div class=\"info-card\">\n\t\t\t\t\t<h3>Candidate Name</h3>\n\t\t\t\t\t<p id=\"name\">‚Äî</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"info-card\">\n\t\t\t\t\t<h3>Applied Role</h3>\n\t\t\t\t\t<p id=\"role\">‚Äî</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"info-card\">\n\t\t\t\t\t<h3>Interview Date</h3>\n\t\t\t\t\t<p id=\"date\">‚Äî</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Scores -->\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Performance Scores</h2>\n\t\t\t\t<div class=\"scores\">\n\t\t\t\t\t<div class=\"score-item\">\n\t\t\t\t\t\t<div class=\"score-label\">Overall Score</div>\n\t\t\t\t\t\t<div class=\"score-value\" id=\"averageScore\">‚Äî</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"score-item\">\n\t\t\t\t\t\t<div class=\"score-label\">Qualitative Score</div>\n\t\t\t\t\t\t<div class=\"score-value\" id=\"qualitativeScore\">‚Äî</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"score-item\">\n\t\t\t\t\t\t<div class=\"score-label\">Quantitative Score</div>\n\t\t\t\t\t\t<div class=\"score-value\" id=\"quantitativeScore\">‚Äî</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<!-- Charts -->\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Performance Analysis</h2>\n\t\t\t\t<div class=\"charts\">\n\t\t\t\t\t<div class=\"chart-container\" id=\"performanceScoresChart\"></div>\n\t\t\t\t\t<div class=\"chart-container\" id=\"behavioralStrengthsChart\"></div>\n\t\t\t\t\t<div class=\"chart-container\" id=\"responseOverviewChart\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Summaries -->\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Candidate Summary</h2>\n\t\t\t\t<p class=\"summary-text\" id=\"candidateSummary\">Loading...</p>\n\t\t\t</div>\n\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Conversation Summary</h2>\n\t\t\t\t<p class=\"summary-text\" id=\"conversationSummary\">Loading...</p>\n\t\t\t</div>\n\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Final Recommendation</h2>\n\t\t\t\t<p class=\"summary-text\" id=\"finalSummary\">Loading...</p>\n\t\t\t</div>\n\n\t\t\t<!-- Conversation -->\n\t\t\t<div class=\"section\">\n\t\t\t\t<h2>Interview Transcript</h2>\n\t\t\t\t<div id=\"conversation-content\">\n\t\t\t\t\t<p>Loading conversation...</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- ‚úÖ Your JavaScript -->\n\t\t<script>\n\t\t\t// The content of File 2 will go here\n\t\t</script>\n\t</body>\n</html>",
    "importMap": "{}",
    "js": "function initApp() {\n\tconst data = appsmith.model.data;\n\tconst analysis = data.analysisResult || {};\n\n\t// Helper to safely set text\n\tconst setText = (id, txt) => {\n\t\tconst el = document.getElementById(id);\n\t\tif (el) el.textContent = txt;\n\t};\n\n\t// Candidate Info\n\tsetText('name', analysis.CandidateInformation?.Name || data.name || 'N/A');\n\tsetText('role', analysis.CandidateInformation?.Position || data.jobRole || 'N/A');\n\n\t// Interview date\n\tlet dateStr = 'N/A';\n\tif (data.meeting?.start?.dateTime) {\n\t\tconst d = new Date(data.meeting.start.dateTime);\n\t\tdateStr = `${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}-${d.getFullYear()}`;\n\t}\n\tsetText('date', dateStr);\n\n\t// Summaries\n\tsetText('candidateSummary', analysis.OtherDetails?.CandidateSummary || data.summary || 'No summary available.');\n\tsetText('conversationSummary', analysis.OtherDetails?.ConversationSummary || data.wrapupComments || 'No conversation summary.');\n\tsetText(\n\t\t'finalSummary',\n\t\tanalysis.OtherDetails?.FinalSummary !== \"Analysis not available\"\n\t\t? analysis.OtherDetails.FinalSummary\n\t\t: data.wrapupComments || \"Analysis not available.\"\n\t);\n\n\t// --- SCORES SECTION ---\n\tconst otherDetails = analysis.OtherDetails || {};\n\n\t// Show text scores\n\tsetText('averageScore', `${Math.round(otherDetails.AverageScore ?? 0)}/100`);\n\tsetText('qualitativeScore', `${Math.round(otherDetails.QualitativeScore ?? 0)}/100`);\n\tsetText('quantitativeScore', `${Math.round(otherDetails.QuantitativeScore ?? 0)}/100`);\n\n\t// --- CHARTS SECTION ---\n\tif (typeof ApexCharts === 'undefined') return;\n\n\tconst strengths = analysis.Strengths || {};\n\n\t// Chart 1: Performance Scores\n\tconst performanceScoresOptions = {\n\t\tseries: [{\n\t\t\tname: 'Competency/Accuracy',\n\t\t\tdata: [0, otherDetails.CompetencyAccuracyScore || 0]\n\t\t}, {\n\t\t\tname: 'Confidence',\n\t\t\tdata: [0, otherDetails.ConfidenceScore || 0]\n\t\t}, {\n\t\t\tname: 'Communication',\n\t\t\tdata: [0, otherDetails.CommunicationScore || 0]\n\t\t}],\n\t\tchart: {\n\t\t\theight: 350,\n\t\t\ttype: 'line',\n\t\t\ttoolbar: { show: false },\n\t\t\tzoom: { enabled: false }\n\t\t},\n\t\ttitle: {\n\t\t\ttext: 'Performance Scores',\n\t\t\talign: 'left',\n\t\t\tstyle: { fontSize: '18px', fontWeight: '600', color: '#1f2937' }\n\t\t},\n\t\txaxis: {\n\t\t\tcategories: ['Start', 'End'],\n\t\t\tlabels: { style: { fontSize: '14px' } }\n\t\t},\n\t\tyaxis: {\n\t\t\tmin: 0,\n\t\t\tmax: 100,\n\t\t\tlabels: {\n\t\t\t\tformatter: (val) => val.toFixed(0) + \"%\",\n\t\t\t\tstyle: { fontSize: '14px' }\n\t\t\t}\n\t\t},\n\t\tstroke: {\n\t\t\tcurve: 'smooth',\n\t\t\twidth: 3\n\t\t},\n\t\tcolors: ['#22c55e', '#f97316', '#ef4444'], // Green, Orange, Red\n\t\tmarkers: {\n\t\t\tsize: 0\n\t\t},\n\t\tlegend: {\n\t\t\tposition: 'bottom',\n\t\t\thorizontalAlign: 'left',\n\t\t\tfontSize: '14px',\n\t\t\toffsetY: 5,\n\t\t\tmarkers: {\n\t\t\t\twidth: 12,\n\t\t\t\theight: 12,\n\t\t\t\tradius: 12,\n\t\t\t},\n\t\t\titemMargin: {\n\t\t\t\thorizontal: 10,\n\t\t\t\tvertical: 5\n\t\t\t}\n\t\t},\n\t\tdataLabels: {\n\t\t\tenabled: true,\n\t\t\tformatter: function(val, opts) {\n\t\t\t\treturn opts.dataPointIndex === 1 ? val + '%' : '';\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\tfontSize: '12px',\n\t\t\t\tfontWeight: 'bold',\n\t\t\t\tcolors: undefined\n\t\t\t},\n\t\t\tbackground: {\n\t\t\t\tenabled: true,\n\t\t\t\tforeColor: '#fff',\n\t\t\t\tpadding: 4,\n\t\t\t\tborderRadius: 2,\n\t\t\t\tborderWidth: 1,\n\t\t\t\tborderColor: '#ddd',\n\t\t\t},\n\t\t\toffsetY: -15\n\t\t},\n\t\tgrid: {\n\t\t\tborderColor: '#f1f5f9'\n\t\t}\n\t};\n\tnew ApexCharts(document.querySelector(\"#performanceScoresChart\"), performanceScoresOptions).render();\n\n\t// Chart 2: Behavioral Strengths\n\tconst behavioralStrengthsOptions = {\n\t\tseries: [{\n\t\t\tname: 'Score',\n\t\t\tdata: [\n\t\t\t\tstrengths.Perseverance?.score || 0,\n\t\t\t\tstrengths.Adaptability?.score || 0,\n\t\t\t\tstrengths.ProblemSolving?.score || 0\n\t\t\t]\n\t\t}],\n\t\tchart: {\n\t\t\ttype: 'bar',\n\t\t\theight: 350,\n\t\t\ttoolbar: { show: false }\n\t\t},\n\t\ttitle: {\n\t\t\ttext: 'Behavioral Strengths',\n\t\t\talign: 'left',\n\t\t\tstyle: { fontSize: '18px', fontWeight: '600', color: '#1f2937' }\n\t\t},\n\t\tplotOptions: {\n\t\t\tbar: {\n\t\t\t\tdistributed: true,\n\t\t\t\tborderRadius: 4,\n\t\t\t\thorizontal: false,\n\t\t\t\tcolumnWidth: '50%',\n\t\t\t}\n\t\t},\n\t\tdataLabels: {\n\t\t\tenabled: true,\n\t\t\tstyle: {\n\t\t\t\tcolors: ['#fff'],\n\t\t\t\tfontSize: '16px',\n\t\t\t\tfontWeight: 'bold'\n\t\t\t}\n\t\t},\n\t\txaxis: {\n\t\t\tcategories: ['Perseverance', 'Adaptability', 'Problem-Solving'],\n\t\t\tlabels: { style: { fontSize: '14px' } }\n\t\t},\n\t\tyaxis: {\n\t\t\tmax: 50,\n\t\t\tlabels: { style: { fontSize: '14px' } }\n\t\t},\n\t\tcolors: ['#3b82f6', '#10b981', '#f59e0b'], // Blue, Green, Yellow\n\t\tlegend: {\n\t\t\tshow: false\n\t\t},\n\t\tgrid: {\n\t\t\tborderColor: '#f1f5f9',\n\t\t\txaxis: { lines: { show: false } }\n\t\t}\n\t};\n\tnew ApexCharts(document.querySelector(\"#behavioralStrengthsChart\"), behavioralStrengthsOptions).render();\n\n\t// Chart 3: Response Time Overview\n\tconst conv = data.interviewConversations || [];\n\tconst labels = [], times = [];\n\tfor (let i = 0; i < conv.length - 1; i++) {\n\t\tif (conv[i].role === 'assistant' && conv[i + 1].role === 'user' && conv[i + 1].content?.trim()) {\n\t\t\tconst t1 = new Date(conv[i].timestamp).getTime();\n\t\t\tconst t2 = new Date(conv[i + 1].timestamp).getTime();\n\t\t\ttimes.push(Math.max(0, t2 - t1)); // time in milliseconds\n\t\t\tlabels.push(`Q${labels.length + 1}`);\n\t\t}\n\t}\n\tconst responseTimeOptions = {\n\t\tseries: [{\n\t\t\tname: 'Response Time',\n\t\t\tdata: times.length ? times : [0]\n\t\t}],\n\t\tchart: {\n\t\t\theight: 350,\n\t\t\ttype: 'line',\n\t\t\ttoolbar: { show: false },\n\t\t\tzoom: { enabled: false }\n\t\t},\n\t\ttitle: {\n\t\t\ttext: 'Response Time Overview',\n\t\t\talign: 'left',\n\t\t\tstyle: { fontSize: '18px', fontWeight: '600', color: '#1f2937' }\n\t\t},\n\t\tstroke: {\n\t\t\tcurve: 'smooth',\n\t\t\twidth: 3\n\t\t},\n\t\txaxis: {\n\t\t\tcategories: labels.length ? labels : ['No Data'],\n\t\t\ttitle: {\n\t\t\t\ttext: 'Questions',\n\t\t\t\tstyle: { fontSize: '14px', fontWeight: '500' }\n\t\t\t},\n\t\t\tlabels: { style: { fontSize: '14px' } }\n\t\t},\n\t\tyaxis: {\n\t\t\ttitle: {\n\t\t\t\ttext: 'Time (Seconds)',\n\t\t\t\tstyle: { fontSize: '14px', fontWeight: '500' }\n\t\t\t},\n\t\t\tlabels: {\n\t\t\t\tformatter: (val) => (val / 1000).toFixed(0),\n\t\t\t\tstyle: { fontSize: '14px' }\n\t\t\t}\n\t\t},\n\t\tcolors: ['#4f46e5'], // Indigo\n\t\tgrid: {\n\t\t\tborderColor: '#f1f5f9'\n\t\t}\n\t};\n\tnew ApexCharts(document.querySelector(\"#responseOverviewChart\"), responseTimeOptions).render();\n\n\t// Conversation Section\n\tconst paired = [];\n\tlet i = 0;\n\twhile (i < conv.length) {\n\t\tlet ai = '', user = '';\n\t\twhile (i < conv.length && conv[i].role === 'assistant') ai += (ai ? ' ' : '') + (conv[i++].content || '');\n\t\twhile (i < conv.length && conv[i].role === 'user') user += (user ? ' ' : '') + (conv[i++].content || '');\n\t\tif (ai || user) paired.push({ ai, user });\n\t}\n\n\tconst content = document.getElementById('conversation-content');\n\tif (paired.length === 0) {\n\t\tcontent.innerHTML = '<p>No conversation data available.</p>';\n\t} else {\n\t\tcontent.innerHTML = paired.map((p, idx) => `\n      <div class=\"conversation-row\">\n        <div class=\"conversation-cell ai-question\">${p.ai || '<em>No question</em>'}</div>\n        <div class=\"conversation-cell candidate-response\">\n          ${p.user || '<em>No response</em>'}\n          <a href=\"#\" class=\"feedback-link\" data-idx=\"${idx}\">üìù Provide Feedback</a>\n        </div>\n      </div>\n    `).join('');\n\n\t\tcontent.querySelectorAll('.feedback-link').forEach(link => {\n\t\t\tlink.addEventListener('click', e => {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst msg = paired[link.dataset.idx];\n\t\t\t\tappsmith.updateModel({ aiMessage: msg.ai, candidateMessage: msg.user });\n\t\t\t\tappsmith.triggerEvent('feedback');\n\t\t\t});\n\t\t});\n\t}\n}\n\n// Button handlers\ndocument.getElementById('backBtn')?.addEventListener('click', () => appsmith.triggerEvent('goBack'));\ndocument.getElementById('downloadBtn')?.addEventListener('click', () => appsmith.triggerEvent('downloadConvo'));\n\nconst videoBtn = document.getElementById('downloadVideoBtn');\nif (videoBtn) {\n\tif (!appsmith.model?.videoLink) {\n\t\tvideoBtn.disabled = true;\n\t\tvideoBtn.style.opacity = '0.6';\n\t\tvideoBtn.style.cursor = 'not-allowed';\n\t} else {\n\t\tvideoBtn.addEventListener('click', () => appsmith.triggerEvent('downloadVideo'));\n\t}\n}\n\n// Init when ready\nappsmith.onReady(() => {\n\tconst iv = setInterval(() => {\n\t\tif (appsmith.model?.data) {\n\t\t\tinitApp();\n\t\t\tclearInterval(iv);\n\t\t}\n\t}, 300);\n});"
  },
  "version": 1,
  "widgetId": "griqseso2a",
  "widgetName": "Custom4"
}