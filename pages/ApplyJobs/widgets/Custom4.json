{
  "backgroundColor": "transparent",
  "borderColor": "transparent",
  "borderRadius": "0px",
  "borderWidth": "",
  "bottomRow": 82,
  "boxShadow": "none",
  "defaultModel": "{{aggregateData.Data_Search.data}}",
  "displayName": "Custom",
  "dynamicBindingPathList": [
    {
      "key": "theme"
    },
    {
      "key": "defaultModel"
    }
  ],
  "dynamicHeight": "FIXED",
  "dynamicPropertyPathList": [
    {
      "key": "onJobApply"
    },
    {
      "key": "editclick"
    },
    {
      "key": "smsSettingsClick"
    },
    {
      "key": "onJobs"
    },
    {
      "key": "onProfile"
    }
  ],
  "dynamicTriggerPathList": [
    {
      "key": "onJobApply"
    },
    {
      "key": "editclick"
    },
    {
      "key": "smsSettingsClick"
    },
    {
      "key": "onJobs"
    },
    {
      "key": "onProfile"
    }
  ],
  "editclick": "{{navigateTo('Profile', {}, 'SAME_WINDOW');}}",
  "events": [
    "onResetClick",
    "onJobApply",
    "editclick",
    "smsSettingsClick",
    "onJobs",
    "onProfile"
  ],
  "features": {
    "dynamicHeight": {
      "active": true,
      "defaultValue": "FIXED",
      "sectionIndex": 2
    }
  },
  "hideCard": false,
  "iconSVG": "/static/media/icon.867bcc8399fa3f897d425d72690b86e4.svg",
  "isCanvas": false,
  "isDeprecated": false,
  "isLoading": false,
  "isSearchWildcard": true,
  "isVisible": true,
  "key": "88s844w5os",
  "leftColumn": 0,
  "maxDynamicHeight": 9000,
  "minDynamicHeight": 4,
  "mobileBottomRow": 154,
  "mobileLeftColumn": 1,
  "mobileRightColumn": 24,
  "mobileTopRow": 124,
  "onJobApply": "{{updateCandidates.run();\nupdateJobPosting.run();\nsendNotif.run();\nnavigateTo('Jobs Page', {}, 'SAME_WINDOW');}}",
  "onJobs": "{{navigateTo('Jobs Page', {}, 'SAME_WINDOW');}}",
  "onProfile": "{{navigateTo('Profile', {}, 'SAME_WINDOW');}}",
  "onResetClick": "{{showAlert('Successfully reset!!', '');}}",
  "parentColumnSpace": 14.03125,
  "parentId": "0",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "rightColumn": 64,
  "searchTags": [
    "external"
  ],
  "shouldScrollContents": true,
  "smsSettingsClick": "{{navigateTo('Profile', {}, 'SAME_WINDOW');}}",
  "srcDoc": {
    "css": "@charset \"UTF-8\";\n:root {\n  --bg-primary:#ffffff;\n  --bg-accent:#f1f5f9;\n  --text-primary:#3F3F46;\n  --text-secondary:#64748b;\n  --text-muted:#94a3b8;\n  --border-color:#e2e8f0;\n  --primary-color:#17ACA6;\n  --primary-hover:#149993;\n  --sidebar-bg:#FAFAFA;\n  --shadow:0 1px 3px rgba(0,0,0,0.1);\n}\n\n/* Reset / Base */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-family: sans-serif !important;\n}\n\nhtml, body {\n  height: 100%;\n  width: 100%;\n  background-color: var(--sidebar-bg);\n  color: var(--text-primary);\n  overflow: hidden;\n}\n\n/* App shell layout */\n.app-shell {\n  display: flex;\n  height: 100vh;\n  width: 100%;\n}\n\n/* SIDEBAR (Custom3 styles) */\n.sidebar {\n  width: 280px;\n  min-width: 220px;\n  height: 100%;\n  background: var(--sidebar-bg);\n  display: flex;\n  flex-direction: column;\n  /* NEW — Same subtle border on ALL 4 sides */\n  border: 1px solid #e5e7eb; /* matches Appsmith's default thin grey */\n  overflow: hidden;\n  transition: transform 0.3s ease-out, width 0.3s ease-out; /* Added transform */\n  flex-shrink: 0; /* Prevent sidebar from shrinking */\n}\n\n.sidebar-header {\n  padding: 1rem;\n  border-bottom: 1px solid var(--border-color);\n  flex-shrink: 0;\n}\n\n.logo-container {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n.logo {\n  width: 36px;\n  height: 36px;\n  background: linear-gradient(135deg, #17ACA6, #a7f3d0);\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  font-weight: 700;\n  font-size: 0.9rem;\n}\n\n.brand-info h2 {\n  font-size: 1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n  margin: 0;\n}\n\n.brand-info p {\n  font-size: 0.875rem;\n  color: var(--text-muted);\n  margin: 0;\n}\n\n.sidebar-nav {\n  flex: 1;\n  padding: 1rem 0;\n  overflow-y: auto;\n}\n\n.nav-menu {\n  list-style: none;\n  margin-top: 1rem;\n}\n\n.nav-item {\n  margin: 0.25rem 0;\n}\n\n.nav-link {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem 1rem;\n  text-decoration: none;\n  color: var(--text-secondary);\n  transition: all 0.2s ease;\n  border-radius: 0 24px 24px 0;\n  margin-right: 1rem;\n  font-size: 0.875rem;\n}\n\n.nav-link:hover, .nav-link.active {\n  background-color: var(--bg-accent);\n  color: var(--primary-color);\n  box-shadow: none;\n}\n\n.nav-link i {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.nav-link svg {\n  width: 20px;\n  height: 20px;\n  stroke: currentColor;\n  fill: none;\n  stroke-width: 2;\n}\n\n.nav-text {\n  flex: 1;\n  white-space: nowrap;\n  color: #3f3f46;\n}\n\n.sidebar-footer {\n  padding: 1rem;\n  flex-shrink: 0;\n  border-top: 1px solid var(--border-color);\n}\n\n.user-profile {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n.user-avatar {\n  width: 36px;\n  height: 36px;\n  background: #E2EFF2;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  color: #0D94BB;\n  font-size: 0.9rem;\n  flex-shrink: 0;\n}\n\n.user-name {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--text-primary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0;\n}\n\n.user-email {\n  font-size: 0.75rem;\n  color: var(--text-muted);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0;\n}\n\n/* MAIN area (Custom1 styles) */\n/* Background kept as #F8FAFC per previous change */\n.main-area {\n  flex: 1;\n  height: 100%;\n  overflow: auto;\n  background: #F8FAFC;\n  padding: 24px;\n  position: relative;\n}\n\n/* remove decorative overlay so it doesn't conflict with light background */\n.main-area::before {\n  display: none;\n}\n\n/* --- Mobile Header & Overlay (NO LONGER USED) --- */\n.mobile-header {\n  display: none;\n}\n\n.mobile-overlay {\n  display: none;\n}\n\n/* container & cards */\n.container {\n  width: 100%;\n  margin: 0;\n  position: relative;\n  z-index: 1;\n  max-width: 1200px;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.header {\n  text-align: left;\n  margin-bottom: 2rem;\n  animation: fadeInDown 0.8s ease-out;\n}\n\nh1 {\n  font-size: 24px;\n  font-weight: 700;\n  color: #000;\n  margin-bottom: 0.5rem;\n}\n\n.header p {\n  color: #64748b;\n  font-size: 16px;\n  margin-bottom: 0;\n  text-shadow: none;\n  text-align: left;\n}\n\n.cards-container {\n  display: flex;\n  gap: 2rem;\n  align-items: flex-start;\n}\n\n.card {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 20px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n  margin-bottom: 2rem;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  animation: fadeInUp 0.8s ease-out;\n}\n\n.job-selection-card {\n  flex: 0 0 35%;\n  min-width: 260px;\n}\n\n.application-info-card {\n  flex: 1;\n}\n\n.card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);\n}\n\n/* shimmer uses green gradient from logo */\n.card-header {\n  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n  padding: 1.5rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  position: relative;\n}\n\n.card-header::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background: linear-gradient(90deg, #17ACA6, #a7f3d0, #17ACA6);\n  background-size: 200% 100%;\n  animation: shimmer 3s infinite;\n}\n\n.card-header-content h2 {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0 0 0.5rem 0;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  color: #1e293b;\n}\n\n.card-header-content p {\n  font-size: 0.875rem;\n  color: #64748b;\n  margin: 0;\n  line-height: 1.5;\n}\n\n/* icon wrapper uses green gradient from logo */\n.icon-wrapper {\n  width: 40px;\n  height: 40px;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #17ACA6, #a7f3d0);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  box-shadow: 0 4px 12px rgba(23, 172, 166, 0.25);\n}\n\n.card-content {\n  padding: 2rem;\n}\n\nlabel {\n  font-size: 0.875rem;\n  font-weight: 600;\n  display: block;\n  margin-bottom: 0.5rem;\n  color: #374151;\n  position: relative;\n}\n\n.required-field::after {\n  content: \"*\";\n  color: #ef4444;\n  margin-left: 4px;\n}\n\ninput, select, textarea {\n  width: 100%;\n  border: 2px solid #e5e7eb;\n  border-radius: 12px;\n  padding: 0.875rem 1rem;\n  font-size: 0.875rem;\n  margin-bottom: 1.5rem;\n  background: white;\n  transition: all 0.3s ease;\n  font-family: inherit;\n}\n\ninput:focus, select:focus, textarea:focus {\n  outline: none;\n  border-color: var(--primary-color);\n  box-shadow: 0 0 0 3px rgba(23, 172, 166, 0.1);\n  background: #fafbff;\n}\n\n/* select caret SVG updated to green */\nselect {\n  cursor: pointer;\n  background-image: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"%2317ACA6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/></svg>');\n  background-repeat: no-repeat;\n  background-position: right 1rem center;\n  background-size: 1.25rem;\n  appearance: none;\n}\n\n.btn {\n  padding: 0.875rem 1.5rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  font-weight: 600;\n  border: none;\n  transition: all 0.3s ease;\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  text-decoration: none;\n  font-family: inherit;\n  position: relative;\n  overflow: hidden;\n}\n\n.btn::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  transition: left 0.5s;\n}\n\n.btn:hover::before {\n  left: 100%;\n}\n\n.btn-outline {\n  border: 2px solid #e5e7eb;\n  background: white;\n  color: #374151;\n}\n\n/* outline hover accent changed to green */\n.btn-outline:hover {\n  border-color: var(--primary-color);\n  background: #f0fdf4;\n  color: var(--primary-color);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(23, 172, 166, 0.12);\n}\n\n/* primary button uses green gradient */\n.btn-primary {\n  background: linear-gradient(135deg, #17ACA6 0%, #a7f3d0 100%);\n  color: white;\n  box-shadow: 0 4px 12px rgba(23, 172, 166, 0.25);\n}\n\n.btn-primary:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(23, 172, 166, 0.35);\n}\n\n.btn:disabled {\n  opacity: 1;\n  cursor: not-allowed;\n  background: #e2e8f0 !important;\n  color: #94a3b8 !important;\n  border-color: #cbd5e1 !important;\n  transform: none !important;\n  box-shadow: none !important;\n}\n\n.btn-primary:disabled {\n  background: #e2e8f0 !important;\n  color: #94a3b8 !important;\n  box-shadow: none !important;\n}\n\n.profile-field {\n  padding: 1rem;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  border: 1px solid #e2e8f0;\n  border-radius: 12px;\n  margin-bottom: 1rem;\n  font-size: 0.875rem;\n  line-height: 1.6;\n  transition: all 0.3s ease;\n}\n\n.profile-field:hover {\n  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);\n  transform: translateX(4px);\n}\n\n.profile-field b {\n  color: #475569;\n  display: inline-block;\n  min-width: 140px;\n}\n\n.profile-field-row {\n  display: flex;\n  gap: 1.5rem;\n  margin-bottom: 1.5rem;\n  align-items: flex-start;\n}\n\n.profile-field-item {\n  flex: 1;\n}\n\n.profile-field-item > input, .profile-field-item.profile-field {\n  margin-bottom: 0;\n}\n\n.card-content .profile-field:last-child {\n  margin-bottom: 0;\n}\n\n.selected-box {\n  padding: 1.25rem;\n  background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);\n  border: 2px solid #10b981;\n  border-radius: 12px;\n  margin-top: 1rem;\n  font-size: 0.875rem;\n  position: relative;\n  animation: slideIn 0.5s ease-out;\n}\n\n.selected-box::before {\n  content: \"✓\";\n  position: absolute;\n  top: 0.75rem;\n  right: 1rem;\n  width: 24px;\n  height: 24px;\n  background: #10b981;\n  color: white;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  font-size: 12px;\n}\n\n.selected-box b {\n  color: #065f46;\n  display: block;\n  font-size: 1rem;\n  margin-bottom: 0.5rem;\n}\n\n.submit-section {\n  position: absolute;\n  top: 28px;\n  right: 20px;\n  background: none;\n  padding: 0;\n  margin: 0;\n  backdrop-filter: none;\n  box-shadow: none;\n  border-radius: 0;\n  z-index: 10;\n}\n\n.edit-buttons {\n  display: flex;\n  gap: 0.75rem;\n}\n\n/* Popups */\n.popup-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  z-index: 1000;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.3s, visibility 0.3s;\n  padding-top: 10vh;\n}\n\n.popup-overlay.show {\n  opacity: 1;\n  visibility: visible;\n}\n\n.popup-content {\n  background: white;\n  border-radius: 20px;\n  padding: 2rem;\n  max-width: 500px;\n  width: 90%;\n  text-align: center;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);\n  transform: translateY(20px);\n  transition: transform 0.3s;\n}\n\n.popup-overlay.show .popup-content {\n  transform: translateY(0);\n}\n\n.popup-icon {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto 1.5rem;\n  background: linear-gradient(135deg, #10b981, #34d399);\n  color: #fff;\n}\n\n.popup-title {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: #1e293b;\n  margin-bottom: 0.5rem;\n}\n\n.popup-message {\n  color: #64748b;\n  margin-bottom: 1.5rem;\n  line-height: 1.6;\n}\n\n.popup-close {\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 12px;\n  font-weight: 600;\n  cursor: pointer;\n  background: linear-gradient(135deg, #10b981, #34d399);\n}\n\n/* small utility */\n.sms-consent {\n  font-size: 0.8125rem;\n  color: #64748b;\n  margin-top: 0.5rem;\n  line-height: 1.4;\n  padding: 0.5rem 0 0;\n}\n\n.sms-consent a {\n  color: var(--primary-color);\n  font-weight: 600;\n  text-decoration: none;\n  border-bottom: 1px dashed var(--primary-color);\n  padding-bottom: 2px;\n}\n\n.sms-consent a:hover {\n  color: #149993;\n  border-bottom-color: #149993;\n}\n\n/* animations */\n@keyframes fadeInDown {\n  from {\n    opacity: 0;\n    transform: translateY(-30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateX(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@keyframes shimmer {\n  0% {\n    background-position: -200% 0;\n  }\n  100% {\n    background-position: 200% 0;\n  }\n}\n/* Responsive */\n@media (max-width: 1024px) {\n  .sidebar {\n    width: 220px;\n  }\n  .cards-container {\n    flex-direction: column;\n  }\n  .job-selection-card, .application-info-card {\n    width: 100%;\n    flex-basis: auto;\n  }\n  .submit-section {\n    position: static;\n    margin-top: 1rem;\n  }\n}\n/* --- NEW: Icon-only sidebar on mobile --- */\n@media (max-width: 768px) {\n  html, body {\n    overflow: auto;\n  } /* Allow scrolling again */\n  .app-shell {\n    flex-direction: row; /* Keep sidebar and main content side-by-side */\n  }\n  /* Shrink the sidebar */\n  .sidebar {\n    width: 80px; /* New width for icon-only */\n    min-width: 80px;\n    height: 100vh; /* Make it full height */\n    position: sticky; /* Stick to the side */\n    top: 0;\n    border-right: 1px solid var(--border-color);\n    border-bottom: none;\n  }\n  /* Hide text elements */\n  .sidebar .nav-text,\n  .sidebar .brand-info,\n  .sidebar .user-info {\n    display: none;\n  }\n  /* Center the logo */\n  .sidebar-header {\n    padding: 1rem;\n    display: flex;\n    justify-content: center;\n  }\n  .logo-container {\n    gap: 0;\n  }\n  /* Center the nav icons */\n  .sidebar-nav {\n    padding: 1rem 0;\n  }\n  .nav-link {\n    justify-content: center;\n    padding: 0.75rem; /* Adjust padding */\n    margin-right: 0; /* Remove margin */\n    border-radius: 0; /* Remove border-radius */\n  }\n  .nav-link.active {\n    /* Optional: add a visual cue for active icon */\n    background-color: var(--bg-accent);\n    box-shadow: inset 3px 0 0 var(--primary-color);\n  }\n  /* Center the footer avatar */\n  .sidebar-footer {\n    padding: 1rem;\n    display: flex;\n    justify-content: center;\n  }\n  .user-profile {\n    gap: 0;\n  }\n  /* --- Main Content Area --- */\n  .main-area {\n    padding: 16px;\n  }\n  /* --- All other mobile layout fixes (Kept) --- */\n  .card-content {\n    padding: 1.5rem;\n  }\n  .profile-field-row {\n    flex-direction: column;\n    gap: 0;\n    margin-bottom: 0;\n  }\n  .profile-field-item > input {\n    margin-bottom: 1.5rem;\n  }\n  .submit-section {\n    position: static;\n    text-align: center;\n    margin-top: 2rem;\n    padding: 1rem;\n    background: rgba(255, 255, 255, 0.5);\n    border-radius: 20px;\n    backdrop-filter: blur(10px);\n  }\n  .profile-field-row .profile-field-item {\n    margin-bottom: 1rem;\n  }\n  .profile-field b {\n    display: block;\n    min-width: 0;\n    margin-bottom: 0.25rem;\n    font-weight: 600; /* Match other labels */\n  }\n  .card-header {\n    flex-direction: column;\n    gap: 1rem; /* This adds space between the content and the button */\n    align-items: flex-start;\n  }\n}\n/* --- End of Mobile --- */\n/* Accessibility focus states using green */\n.btn:focus-visible {\n  outline: 2px solid var(--primary-color);\n  outline-offset: 2px;\n}\n\ninput:focus-visible, select:focus-visible, textarea:focus-visible {\n  outline: 2px solid var(--primary-color);\n  outline-offset: 2px;\n}",
    "html": "<!doctype html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <title>Safal - Candidate Portal (Merged Widget)</title>\n\n  <link rel=\"stylesheet\" href=\"styles.css\" />\n</head>\n<body>\n  <div class=\"app-shell\">\n    <aside class=\"sidebar\" id=\"sidebar\">\n      <div class=\"sidebar-header\">\n        <div class=\"logo-container\" >\n          <div class=\"logo\">S</div>\n          <div class=\"brand-info\">\n            <h2>Safal</h2>\n            <p>Candidate Portal</p>\n          </div>\n        </div>\n      </div>\n\n      <nav class=\"sidebar-nav\">\n        <ul class=\"nav-menu\">\n          <li class=\"nav-item\">\n            <a href=\"#\" class=\"nav-link active\" data-page=\"jobs\">\n              <i>\n                <svg viewBox=\"0 0 24 24\"><rect x=\"2\" y=\"7\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\"/><path d=\"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\"/></svg>\n              </i>\n              <span class=\"nav-text\">Applications &amp; Interviews</span>\n            </a>\n          </li>\n          <li class=\"nav-item\" style=\"display: none;\">\n            <a href=\"#\" class=\"nav-link\" data-page=\"messages\">\n              <i>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/></svg>\n              </i>\n              <span class=\"nav-text\">Messages</span>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"#\" class=\"nav-link\" data-page=\"profile\">\n              <i>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"/><circle cx=\"12\" cy=\"7\" r=\"4\"/></svg>\n              </i>\n              <span class=\"nav-text\">Profile</span>\n            </a>\n          </li>\n          <li class=\"nav-item\" style=\"display: none;\">\n            <a href=\"#\" class=\"nav-link\" data-page=\"help\">\n              <i>\n                <svg viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"/><path d=\"M12 17h.01\"/></svg>\n              </i>\n              <span class=\"nav-text\">Help</span>\n            </a>\n          </li>\n        </ul>\n      </nav>\n\n      <div class=\"sidebar-footer\" style=\"display: none;\">\n        <div class=\"user-profile\">\n          <div class=\"user-avatar\">RN</div>\n          <div class=\"user-info\">\n            <p class=\"user-name\">Rakesh Nayak</p>\n            <p class=\"user-email\">rakesh@example.com</p>\n          </div>\n        </div>\n      </div>\n    </aside>\n\n    <main class=\"main-area\">\n      <div class=\"container\" id=\"applyJobsApp\">\n        <form id=\"jobForm\">\n          <div class=\"header\">\n            <h1>Apply for Jobs</h1>\n            <p>Select a job to apply for. Your existing profile information will be used.</p>\n          </div>\n\n          <div class=\"cards-container\">\n            <div class=\"card job-selection-card\">\n              <div class=\"card-header\">\n                <div class=\"card-header-content\">\n                  <h2>\n                    <div class=\"icon-wrapper\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n                        <rect x=\"2\" y=\"7\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\n                        <path d=\"M16 3h-8v4h8V3z\"></path>\n                      </svg>\n                    </div>\n                    Job Selection\n                  </h2>\n                  <p>Choose the position you'd like to apply for.</p>\n                </div>\n              </div>\n              <div class=\"card-content\">\n                <label class=\"required-field\">Select Job Position</label>\n                <select id=\"jobSelect\">\n                  <option value=\"\">Choose a job position...</option>\n                </select>\n                <div id=\"selectedJobBox\" class=\"selected-box\" style=\"display:none\"></div>\n              </div>\n            </div>\n\n            <div class=\"card application-info-card\">\n              <div class=\"card-header\">\n                <div class=\"card-header-content\">\n                  <h2>\n                    <div class=\"icon-wrapper\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n                        <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"></path>\n                        <polyline points=\"14 2 14 8 20 8\"></polyline>\n                      </svg>\n                    </div>\n                    Your Application Information\n                  </h2>\n                  <p>This information will be included with your application.</p>\n                </div>\n                <div id=\"editButtons\" class=\"edit-buttons\">\n                  <button type=\"button\" id=\"editBtn\" class=\"btn btn-outline\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n                      <path d=\"M12 20h9\"></path>\n                      <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"></path>\n                    </svg>\n                    Edit Profile\n                  </button>\n                </div>\n              </div>\n              <div id=\"profileFields\" class=\"card-content\"></div>\n            </div>\n          </div>\n\n          <div class=\"submit-section\">\n            <button id=\"submitBtn\" type=\"submit\" class=\"btn btn-primary\" disabled>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n                <path d=\"M22 2L11 13\"></path>\n                <polygon points=\"22,2 15,22 11,13 2,9\"></polygon>\n              </svg>\n              Submit Application\n            </button>\n          </div>\n        </form>\n      </div>\n    </main>\n  </div>\n\n  <div id=\"successPopup\" class=\"popup-overlay\" aria-hidden=\"true\">\n    <div class=\"popup-content\">\n      <div class=\"popup-icon\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n        </svg>\n      </div>\n      <h3 class=\"popup-title\">Application Submitted!</h3>\n      <p class=\"popup-message\" id=\"popupMessage\">Your application has been successfully submitted.</p>\n      <button class=\"popup-close\" id=\"closePopup\">Close</button>\n    </div>\n  </div>\n\n  <div id=\"profileWarningPopup\" class=\"popup-overlay\" aria-hidden=\"true\">\n    <div class=\"popup-content\">\n      <div class=\"popup-icon\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n        </svg>\n      </div>\n      <h3 class=\"popup-title\">Profile Incomplete</h3>\n      <p class=\"popup-message\">Your profile is not yet complete. Please finish the onboarding process before you can apply for jobs. The submit button will remain disabled until your profile is marked as complete.</p>\n      <button class=\"popup-close\" id=\"closeWarningPopup\">Understood</button>\n    </div>\n  </div>\n\n  <script src=\"app.js\"></script>\n</body>\n</html>",
    "importMap": "{}",
    "js": "/* Combined JS for Sidebar (Custom3) and Application (Custom1).\n    Sidebar class is reverted to its simple, original state.\n    initApp and other functions are UNCHANGED.\n*/\n\n/* Sidebar class (from Custom3) - REVERTED */\nclass Sidebar {\n  constructor() {\n    this.sidebar = document.getElementById('sidebar');\n    this.navLinks = document.querySelectorAll('.nav-link');\n    this.init();\n  }\n  init() {\n    this.setupEventListeners();\n  }\n  setupEventListeners() {\n    this.navLinks.forEach(link => {\n      link.addEventListener('click', e => {\n        e.preventDefault();\n        const page = link.getAttribute('data-page');\n        this.setActiveLink(link);\n\n        // Keep Appsmith behavior intact (trigger unique events)\n        if (typeof appsmith !== 'undefined' && appsmith.triggerEvent) {\n          switch (page) {\n            case 'jobs':\n              appsmith.triggerEvent('onJobs', {\n                page: 'jobs'\n              });\n              break;\n            case 'messages':\n              appsmith.triggerEvent('onMessages', {\n                page: 'messages'\n              });\n              break;\n            case 'profile':\n              appsmith.triggerEvent('onProfile', {\n                page: 'profile'\n              });\n              break;\n            case 'help':\n              appsmith.triggerEvent('onHelp', {\n                page: 'help'\n              });\n              break;\n            default:\n              appsmith.triggerEvent('onSidebarNav', {\n                page\n              });\n          }\n        }\n      });\n    });\n  }\n  setActiveLink(activeLink) {\n    this.navLinks.forEach(link => link.classList.remove('active'));\n    activeLink.classList.add('active');\n  }\n}\n\n/* Utility functions (from Custom1) - UNCHANGED */\nfunction formatLocation(locationStr) {\n  if (!locationStr) return 'N/A';\n  const trimmedLocation = locationStr.trim();\n  let parts = trimmedLocation.split(',').map(p => p.trim());\n  if (parts.length <= 2) return trimmedLocation;\n  if (parts.length > 0 && (parts[parts.length - 1].toUpperCase() === 'USA' || parts[parts.length - 1].toUpperCase() === 'US')) {\n    parts.pop();\n  }\n  if (parts.length > 0 && /^\\d{5}(-\\d{4})?$/.test(parts[parts.length - 1])) {\n    parts.pop();\n  }\n  if (parts.length >= 2) {\n    let statePart = parts[parts.length - 1];\n    let cityPart = parts[parts.length - 2];\n    if (/^\\d/.test(cityPart)) {\n      const cityWords = cityPart.split(' ');\n      cityPart = cityWords[cityWords.length - 1];\n    }\n    return `${cityPart}, ${statePart}`;\n  }\n  return trimmedLocation;\n}\nfunction formatSalaryRange(salaryRange) {\n  if (!salaryRange) return \"\";\n  salaryRange = salaryRange.trim();\n  const usFormatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  });\n  const rangeRegex = /^(\\$?)(\\d+)(?:\\s*-\\s*(\\$?)(\\d+))?$/;\n  const match = salaryRange.match(rangeRegex);\n  if (match) {\n    const startNum = parseInt(match[2], 10);\n    const formattedStart = usFormatter.format(startNum);\n    if (match[4]) {\n      const endNum = parseInt(match[4], 10);\n      const formattedEnd = usFormatter.format(endNum);\n      return `${formattedStart} - ${formattedEnd}`;\n    } else {\n      return formattedStart;\n    }\n  }\n  return salaryRange;\n}\n\n/* Main application init (from Custom1) - UNCHANGED */\nfunction initApp() {\n  const jobs = typeof appsmith !== 'undefined' && appsmith.model && appsmith.model.jobs ? appsmith.model.jobs : [];\n  const userModel = typeof appsmith !== 'undefined' && appsmith.model ? appsmith.model.user : undefined;\n  const candidate = Array.isArray(userModel) && userModel.length > 0 ? userModel[0] : null;\n  let selectedJob = \"\";\n  const jobSelect = document.getElementById(\"jobSelect\");\n  const selectedJobBox = document.getElementById(\"selectedJobBox\");\n  const submitBtn = document.getElementById(\"submitBtn\");\n  const profileFields = document.getElementById(\"profileFields\");\n  const editButtons = document.getElementById(\"editButtons\");\n  const successPopup = document.getElementById(\"successPopup\");\n  const popupMessage = document.getElementById(\"popupMessage\");\n  const closePopupBtn = document.getElementById(\"closePopup\");\n  const profileWarningPopup = document.getElementById(\"profileWarningPopup\");\n  const closeWarningPopupBtn = document.getElementById(\"closeWarningPopup\");\n\n  // Popup handlers\n  closePopupBtn.addEventListener(\"click\", () => successPopup.classList.remove(\"show\"));\n  successPopup.addEventListener(\"click\", e => {\n    if (e.target === successPopup) successPopup.classList.remove(\"show\");\n  });\n  closeWarningPopupBtn.addEventListener(\"click\", () => profileWarningPopup.classList.remove(\"show\"));\n  profileWarningPopup.addEventListener(\"click\", e => {\n    if (e.target === profileWarningPopup) profileWarningPopup.classList.remove(\"show\");\n  });\n  function isUserEligible() {\n    if (!Array.isArray(typeof appsmith !== 'undefined' && appsmith.model ? appsmith.model.user : undefined) || typeof appsmith === 'undefined') {\n      // If appsmith model isn't available, keep previous UX: disallow submit (but keep UI consistent)\n      if (typeof appsmith === 'undefined') return false;\n      return false;\n    }\n    const user = appsmith.model.user[0];\n    return user && user.completed === true;\n  }\n  function updateSubmitButtonState() {\n    const jobSelected = !!jobSelect.value;\n    const userEligible = isUserEligible();\n    submitBtn.disabled = !jobSelected || !userEligible;\n  }\n\n  // Populate jobs (defensive: jobs may be undefined)\n  (jobs || []).forEach(job => {\n    const opt = document.createElement(\"option\");\n    opt.value = String(job._id);\n    opt.textContent = `${job.title} - (${formatLocation(job.location)})`;\n    jobSelect.appendChild(opt);\n  });\n  jobSelect.addEventListener(\"change\", () => {\n    selectedJob = jobSelect.value;\n    updateSubmitButtonState();\n    if (selectedJob) {\n      const job = (jobs || []).find(j => String(j._id) === selectedJob);\n      if (job) {\n        const formattedSalary = formatSalaryRange(job.salaryRange);\n        selectedJobBox.innerHTML = `<b>${job.title}</b><br>${formattedSalary} • ${formatLocation(job.location)}`;\n        selectedJobBox.style.display = \"block\";\n      } else {\n        selectedJobBox.style.display = \"none\";\n      }\n    } else {\n      selectedJobBox.style.display = \"none\";\n    }\n  });\n  function renderProfile() {\n    const displayCandidate = candidate || {};\n    profileFields.innerHTML = `\n      <div class=\"profile-field-row\">\n        <div class=\"profile-field profile-field-item\"><b>Name:</b> ${displayCandidate.candidateName || \"-\"}</div>\n        <div class=\"profile-field profile-field-item\"><b>LinkedIn:</b> ${displayCandidate.linkedin ? `<a href=\"https://${displayCandidate.linkedin}\" target=\"_blank\" style=\"color: #667eea; text-decoration: none;\">${displayCandidate.linkedin}</a>` : \"-\"}</div>\n      </div>\n      <div class=\"profile-field-row\">\n        <div class=\"profile-field profile-field-item\"><b>Email:</b> ${displayCandidate.email || \"-\"}</div>\n        <div class=\"profile-field profile-field-item\">\n          <div><b>Phone:</b> ${displayCandidate.phone || \"-\"}</div>\n          ${displayCandidate.phone ? `<div class=\"sms-consent\">Opted in for texts. <a href=\"#\" id=\"smsSettingsLink\">Manage in Settings</a></div>` : ''}\n        </div>\n      </div>\n      <div class=\"profile-field-row\">\n        <div class=\"profile-field profile-field-item\"><b>Interview Slot:</b> ${displayCandidate.interviewSlot || \"-\"}</div>\n        <div class=\"profile-field profile-field-item\"><b>Notification:</b> ${displayCandidate.notificationPreference || \"-\"}</div>\n      </div>\n      <div class=\"profile-field\"><b>Resume:</b> ${displayCandidate.resume ? \"✓ Uploaded\" : \"⚠ Not Uploaded\"}</div>\n      <div class=\"profile-field\"><b>Consent:</b> ${displayCandidate.consent ? \"✓ Provided\" : \"⚠ Required\"}</div>\n      <div class=\"profile-field\"><b>Application:</b> ${displayCandidate.completed ? \"✓ Completed\" : \"⏳ In Progress\"}</div>\n    `;\n    editButtons.innerHTML = `\n      <button type=\"button\" id=\"editBtn\" class=\"btn btn-outline\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\"><path d=\"M12 20h9\"></path><path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"></path></svg>\n        Edit Profile\n      </button>\n    `;\n    const editBtn = document.getElementById(\"editBtn\");\n    if (editBtn) {\n      editBtn.onclick = () => {\n        if (typeof appsmith !== 'undefined' && appsmith.triggerEvent) {\n          appsmith.triggerEvent(\"editclick\");\n        } else {\n          // fallback: no-op for non-Appsmith environment\n          console.info(\"Edit profile clicked (appsmith not available).\");\n        }\n      };\n    }\n    const smsSettingsLink = document.getElementById(\"smsSettingsLink\");\n    if (smsSettingsLink) {\n      smsSettingsLink.addEventListener(\"click\", e => {\n        e.preventDefault();\n        if (typeof appsmith !== 'undefined' && appsmith.triggerEvent) {\n          appsmith.triggerEvent(\"smsSettingsClick\");\n        } else {\n          console.info(\"SMS Settings clicked (appsmith not available).\");\n        }\n      });\n    }\n  }\n  renderProfile();\n  updateSubmitButtonState();\n  if (!isUserEligible()) {\n    profileWarningPopup.classList.add(\"show\");\n  }\n  document.getElementById(\"jobForm\").addEventListener(\"submit\", e => {\n    e.preventDefault();\n    if (!jobSelect.value) {\n      alert(\"⚠ Please select a job position.\");\n      return;\n    }\n    if (!isUserEligible()) {\n      alert(\"⚠ Your profile is not complete. Please finish onboarding before applying.\");\n      return;\n    }\n    const job = (jobs || []).find(j => String(j._id) === jobSelect.value);\n    const applicationData = {\n      jobId: job._id,\n      jobTitle: job.title,\n      tenantPrefix: job.tenantPrefix,\n      user: candidate\n    };\n    if (typeof appsmith !== 'undefined' && appsmith.updateModel) {\n      appsmith.updateModel({\n        ...appsmith.model,\n        appliedJob: applicationData\n      });\n    }\n    if (typeof appsmith !== 'undefined' && appsmith.triggerEvent) {\n      appsmith.triggerEvent(\"onJobApply\", applicationData);\n    }\n    popupMessage.textContent = `Your application for \"${job.title}\" has been successfully submitted!`;\n    successPopup.classList.add(\"show\");\n    jobSelect.value = \"\";\n    selectedJobBox.style.display = \"none\";\n    updateSubmitButtonState();\n  });\n}\n\n/* Initialize Sidebar and App on DOM ready or via appsmith hooks - UNCHANGED */\n(function boot() {\n  if (typeof appsmith !== 'undefined' && appsmith.onReady) {\n    appsmith.onReady(() => {\n      // init sidebar\n      try {\n        new Sidebar();\n      } catch (e) {\n        console.error(e);\n      }\n      // init app after a small delay to mimic previous behavior and allow appsmith.model to be ready\n      setTimeout(initApp, 3000);\n    });\n  } else {\n    document.addEventListener('DOMContentLoaded', () => {\n      try {\n        new Sidebar();\n      } catch (e) {\n        console.error(e);\n      }\n      setTimeout(initApp, 3000);\n    });\n  }\n})();"
  },
  "tags": [
    "Display"
  ],
  "theme": "{{appsmith.theme}}",
  "topRow": 0,
  "type": "CUSTOM_WIDGET",
  "uncompiledSrcDoc": {
    "css": ":root{\n  --bg-primary:#ffffff;\n  --bg-accent:#f1f5f9;\n  --text-primary:#3F3F46;\n  --text-secondary:#64748b;\n  --text-muted:#94a3b8;\n  --border-color:#e2e8f0;\n  --primary-color:#17ACA6;\n  --primary-hover:#149993;\n  --sidebar-bg:#FAFAFA;\n  --shadow:0 1px 3px rgba(0,0,0,0.1);\n}\n\n/* Reset / Base */\n*{ margin:0; padding:0; box-sizing:border-box; font-family: sans-serif !important; }\nhtml,body{ height:100%; width:100%; background-color:var(--sidebar-bg); color:var(--text-primary); overflow:hidden; }\n\n/* App shell layout */\n.app-shell{ display:flex; height:100vh; width:100%; }\n\n/* SIDEBAR (Custom3 styles) */\n.sidebar {\n  width: 280px;\n  min-width: 220px;\n  height: 100%;\n  background: var(--sidebar-bg);\n  \n  display: flex;\n  flex-direction: column;\n  \n  /* NEW — Same subtle border on ALL 4 sides */\n  border: 1px solid #e5e7eb;  /* matches Appsmith's default thin grey */\n\n  overflow: hidden;\n  transition: transform 0.3s ease-out, width 0.3s ease-out; /* Added transform */\n  flex-shrink: 0; /* Prevent sidebar from shrinking */\n}\n\n.sidebar-header{ padding:1rem; border-bottom:1px solid var(--border-color); flex-shrink:0; }\n.logo-container{ display:flex; align-items:center; gap:.75rem; }\n.logo{ width:36px; height:36px; background:linear-gradient(135deg,#17ACA6,#a7f3d0); border-radius:8px; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:700; font-size:.9rem; }\n.brand-info h2{ font-size:1rem; font-weight:600; color:var(--text-primary); margin:0; }\n.brand-info p{ font-size:.875rem; color:var(--text-muted); margin:0; }\n\n.sidebar-nav{ flex:1; padding:1rem 0; overflow-y:auto; }\n.nav-menu{ list-style:none; margin-top:1rem; }\n.nav-item{ margin:.25rem 0; }\n.nav-link{ display:flex; align-items:center; gap:.75rem; padding:.75rem 1rem; text-decoration:none; color:var(--text-secondary); transition:all .2s ease; border-radius:0 24px 24px 0; margin-right:1rem; font-size:.875rem; }\n.nav-link:hover, .nav-link.active{ background-color:var(--bg-accent); color:var(--primary-color); box-shadow:none; }\n.nav-link i{ width:20px; height:20px; display:flex; align-items:center; justify-content:center; flex-shrink:0; }\n.nav-link svg{ width:20px; height:20px; stroke:currentColor; fill:none; stroke-width:2; }\n.nav-text{ flex:1; white-space:nowrap; color:#3f3f46; }\n\n.sidebar-footer{ padding:1rem; flex-shrink:0; border-top:1px solid var(--border-color); }\n.user-profile{ display:flex; align-items:center; gap:.75rem; }\n.user-avatar{ width:36px; height:36px; background:#E2EFF2; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:600; color:#0D94BB; font-size:.9rem; flex-shrink:0; }\n.user-name{ font-size:.875rem; font-weight:500; color:var(--text-primary); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; margin:0; }\n.user-email{ font-size:.75rem; color:var(--text-muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; margin:0; }\n\n/* MAIN area (Custom1 styles) */\n/* Background kept as #F8FAFC per previous change */\n.main-area{ flex:1; height:100%; overflow:auto; background: #F8FAFC; padding:24px; position:relative; }\n\n/* remove decorative overlay so it doesn't conflict with light background */\n.main-area::before{\n  display: none;\n}\n\n/* --- Mobile Header & Overlay (NO LONGER USED) --- */\n.mobile-header { display: none; }\n.mobile-overlay { display: none; }\n\n/* container & cards */\n.container{ width:100%; margin:0; position:relative; z-index:1; max-width:1200px; margin-left:auto; margin-right:auto; }\n.header{ text-align:left; margin-bottom:2rem; animation:fadeInDown .8s ease-out; }\nh1{ font-size:24px; font-weight:700; color:#000; margin-bottom:.5rem; }\n.header p{ color:#64748b; font-size:16px; margin-bottom:0; text-shadow:none; text-align:left; }\n\n.cards-container{ display:flex; gap:2rem; align-items:flex-start; }\n.card{ background:rgba(255,255,255,0.95); backdrop-filter:blur(20px); border:1px solid rgba(255,255,255,0.2); border-radius:20px; box-shadow:0 20px 40px rgba(0,0,0,0.15); margin-bottom:2rem; overflow:hidden; transition:all .3s ease; animation:fadeInUp .8s ease-out; }\n.job-selection-card{ flex:0 0 35%; min-width:260px; }\n.application-info-card{ flex:1; }\n\n.card:hover{ transform:translateY(-2px); box-shadow:0 25px 50px rgba(0,0,0,0.2); }\n/* shimmer uses green gradient from logo */\n.card-header{ background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%); padding:1.5rem; border-bottom:1px solid rgba(0,0,0,0.05); display:flex; justify-content:space-between; align-items:flex-start; position:relative; }\n.card-header::before{ content:''; position:absolute; top:0; left:0; right:0; height:3px; background:linear-gradient(90deg,#17ACA6,#a7f3d0,#17ACA6); background-size:200% 100%; animation:shimmer 3s infinite; }\n\n.card-header-content h2{ font-size:1.25rem; font-weight:600; margin:0 0 .5rem 0; display:flex; align-items:center; gap:.75rem; color:#1e293b; }\n.card-header-content p{ font-size:.875rem; color:#64748b; margin:0; line-height:1.5; }\n/* icon wrapper uses green gradient from logo */\n.icon-wrapper{ width:40px; height:40px; border-radius:12px; background:linear-gradient(135deg,#17ACA6,#a7f3d0); display:flex; align-items:center; justify-content:center; color:white; box-shadow:0 4px 12px rgba(23,172,166,0.25); }\n\n.card-content{ padding:2rem; }\nlabel{ font-size:.875rem; font-weight:600; display:block; margin-bottom:.5rem; color:#374151; position:relative; }\n.required-field::after{ content:'*'; color:#ef4444; margin-left:4px; }\n\ninput, select, textarea{ width:100%; border:2px solid #e5e7eb; border-radius:12px; padding:.875rem 1rem; font-size:.875rem; margin-bottom:1.5rem; background:white; transition:all .3s ease; font-family:inherit; }\ninput:focus, select:focus, textarea:focus{ outline:none; border-color:var(--primary-color); box-shadow:0 0 0 3px rgba(23,172,166,0.10); background:#fafbff; }\n\n/* select caret SVG updated to green */\nselect{ cursor:pointer; background-image: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"%2317ACA6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/></svg>'); background-repeat:no-repeat; background-position:right 1rem center; background-size:1.25rem; appearance:none; }\n\n.btn{ padding:.875rem 1.5rem; border-radius:12px; cursor:pointer; font-size:.875rem; font-weight:600; border:none; transition:all .3s ease; display:inline-flex; align-items:center; gap:.5rem; text-decoration:none; font-family:inherit; position:relative; overflow:hidden; }\n.btn::before{ content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent); transition:left .5s; }\n.btn:hover::before{ left:100%; }\n.btn-outline{ border:2px solid #e5e7eb; background:white; color:#374151; }\n/* outline hover accent changed to green */\n.btn-outline:hover{ border-color:var(--primary-color); background:#f0fdf4; color:var(--primary-color); transform:translateY(-1px); box-shadow:0 4px 12px rgba(23,172,166,0.12); }\n/* primary button uses green gradient */\n.btn-primary{ background:linear-gradient(135deg,#17ACA6 0%,#a7f3d0 100%); color:white; box-shadow:0 4px 12px rgba(23,172,166,0.25); }\n.btn-primary:hover{ transform:translateY(-2px); box-shadow:0 8px 24px rgba(23,172,166,0.35); }\n.btn:disabled{ opacity:1; cursor:not-allowed; background:#e2e8f0 !important; color:#94a3b8 !important; border-color:#cbd5e1 !important; transform:none !important; box-shadow:none !important; }\n.btn-primary:disabled{ background:#e2e8f0 !important; color:#94a3b8 !important; box-shadow:none !important; }\n\n.profile-field{ padding:1rem; background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%); border:1px solid #e2e8f0; border-radius:12px; margin-bottom:1rem; font-size:.875rem; line-height:1.6; transition:all .3s ease; }\n.profile-field:hover{ background:linear-gradient(135deg,#f1f5f9 0%,#e2e8f0 100%); transform:translateX(4px); }\n.profile-field b{ color:#475569; display:inline-block; min-width:140px; }\n\n.profile-field-row{ display:flex; gap:1.5rem; margin-bottom:1.5rem; align-items:flex-start; }\n.profile-field-item{ flex:1; }\n.profile-field-item > input, .profile-field-item.profile-field{ margin-bottom:0; }\n.card-content .profile-field:last-child{ margin-bottom:0; }\n\n.selected-box{ padding:1.25rem; background:linear-gradient(135deg,#ecfdf5 0%,#d1fae5 100%); border:2px solid #10b981; border-radius:12px; margin-top:1rem; font-size:.875rem; position:relative; animation:slideIn .5s ease-out; }\n.selected-box::before{ content:'✓'; position:absolute; top:.75rem; right:1rem; width:24px; height:24px; background:#10b981; color:white; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:12px; }\n.selected-box b{ color:#065f46; display:block; font-size:1rem; margin-bottom:.5rem; }\n\n.submit-section{ position:absolute; top:28px; right:20px; background:none; padding:0; margin:0; backdrop-filter:none; box-shadow:none; border-radius:0; z-index:10; }\n.edit-buttons{ display:flex; gap:.75rem; }\n\n/* Popups */\n.popup-overlay{ position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); display:flex; align-items:flex-start; justify-content:center; z-index:1000; opacity:0; visibility:hidden; transition:opacity .3s, visibility .3s; padding-top:10vh; }\n.popup-overlay.show{ opacity:1; visibility:visible; }\n.popup-content{ background:white; border-radius:20px; padding:2rem; max-width:500px; width:90%; text-align:center; box-shadow:0 20px 40px rgba(0,0,0,0.2); transform:translateY(20px); transition:transform .3s; }\n.popup-overlay.show .popup-content{ transform:translateY(0); }\n.popup-icon{ width:60px; height:60px; border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 1.5rem; background:linear-gradient(135deg,#10b981,#34d399); color:#fff; }\n.popup-title{ font-size:1.5rem; font-weight:700; color:#1e293b; margin-bottom:.5rem; }\n.popup-message{ color:#64748b; margin-bottom:1.5rem; line-height:1.6; }\n.popup-close{ color:white; border:none; padding:.75rem 1.5rem; border-radius:12px; font-weight:600; cursor:pointer; background:linear-gradient(135deg,#10b981,#34d399); }\n\n/* small utility */\n.sms-consent{ font-size:.8125rem; color:#64748b; margin-top:.5rem; line-height:1.4; padding:0.5rem 0 0; }\n.sms-consent a{ color:var(--primary-color); font-weight:600; text-decoration:none; border-bottom:1px dashed var(--primary-color); padding-bottom:2px; }\n.sms-consent a:hover{ color:#149993; border-bottom-color:#149993; }\n\n/* animations */\n@keyframes fadeInDown{ from{ opacity:0; transform:translateY(-30px);} to{ opacity:1; transform:translateY(0);} }\n@keyframes fadeInUp{ from{ opacity:0; transform:translateY(30px);} to{ opacity:1; transform:translateY(0);} }\n@keyframes slideIn{ from{ opacity:0; transform:translateX(-20px);} to{ opacity:1; transform:translateX(0);} }\n@keyframes shimmer{ 0%{ background-position:-200% 0;} 100%{ background-position:200% 0;} }\n\n/* Responsive */\n@media (max-width: 1024px){\n  .sidebar{ width:220px; }\n  .cards-container{ flex-direction:column; }\n  .job-selection-card, .application-info-card{ width:100%; flex-basis:auto; }\n  .submit-section{ position:static; margin-top:1rem; }\n}\n\n/* --- NEW: Icon-only sidebar on mobile --- */\n@media (max-width:768px){\n  html,body{ overflow: auto; } /* Allow scrolling again */\n  \n  .app-shell {\n    flex-direction: row; /* Keep sidebar and main content side-by-side */\n  }\n\n  /* Shrink the sidebar */\n  .sidebar {\n    width: 80px; /* New width for icon-only */\n    min-width: 80px;\n    height: 100vh; /* Make it full height */\n    position: sticky; /* Stick to the side */\n    top: 0;\n    border-right: 1px solid var(--border-color);\n    border-bottom: none;\n  }\n\n  /* Hide text elements */\n  .sidebar .nav-text,\n  .sidebar .brand-info,\n  .sidebar .user-info {\n    display: none;\n  }\n\n  /* Center the logo */\n  .sidebar-header {\n    padding: 1rem;\n    display: flex;\n    justify-content: center;\n  }\n  .logo-container {\n    gap: 0;\n  }\n  \n  /* Center the nav icons */\n  .sidebar-nav {\n    padding: 1rem 0;\n  }\n  .nav-link {\n    justify-content: center;\n    padding: 0.75rem; /* Adjust padding */\n    margin-right: 0; /* Remove margin */\n    border-radius: 0; /* Remove border-radius */\n  }\n  .nav-link.active {\n    /* Optional: add a visual cue for active icon */\n    background-color: var(--bg-accent);\n    box-shadow: inset 3px 0 0 var(--primary-color);\n  }\n\n  /* Center the footer avatar */\n  .sidebar-footer {\n    padding: 1rem;\n    display: flex;\n    justify-content: center;\n  }\n  .user-profile {\n    gap: 0;\n  }\n\n  /* --- Main Content Area --- */\n  .main-area{ \n    padding: 16px; \n  }\n  \n  /* --- All other mobile layout fixes (Kept) --- */\n  .card-content{ padding:1.5rem; }\n  .profile-field-row{ flex-direction:column; gap:0; margin-bottom:0; }\n  .profile-field-item > input{ margin-bottom:1.5rem; }\n  .submit-section{ \n    position:static; \n    text-align:center; \n    margin-top:2rem; \n    padding:1rem; \n    background:rgba(255,255,255,0.5); \n    border-radius:20px; \n    backdrop-filter:blur(10px); \n  }\n  .profile-field-row .profile-field-item {\n     margin-bottom: 1rem;\n  }\n  .profile-field b {\n    display: block;\n    min-width: 0;\n    margin-bottom: 0.25rem;\n    font-weight: 600; /* Match other labels */\n  }\n  .card-header {\n    flex-direction: column;\n    gap: 1rem; /* This adds space between the content and the button */\n    align-items: flex-start;\n  }\n}\n/* --- End of Mobile --- */\n\n\n/* Accessibility focus states using green */\n.btn:focus-visible{ outline:2px solid var(--primary-color); outline-offset:2px; }\ninput:focus-visible, select:focus-visible, textarea:focus-visible{ outline:2px solid var(--primary-color); outline-offset:2px; }",
    "html": "<!doctype html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <title>Safal - Candidate Portal (Merged Widget)</title>\n\n  <link rel=\"stylesheet\" href=\"styles.css\" />\n</head>\n<body>\n  <div class=\"app-shell\">\n    <aside class=\"sidebar\" id=\"sidebar\">\n      <div class=\"sidebar-header\">\n        <div class=\"logo-container\" >\n          <div class=\"logo\">S</div>\n          <div class=\"brand-info\">\n            <h2>Safal</h2>\n            <p>Candidate Portal</p>\n          </div>\n        </div>\n      </div>\n\n      <nav class=\"sidebar-nav\">\n        <ul class=\"nav-menu\">\n          <li class=\"nav-item\">\n            <a href=\"#\" class=\"nav-link active\" data-page=\"jobs\">\n              <i>\n                <svg viewBox=\"0 0 24 24\"><rect x=\"2\" y=\"7\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\"/><path d=\"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\"/></svg>\n              </i>\n              <span class=\"nav-text\">Applications &amp; Interviews</span>\n            </a>\n          </li>\n          <li class=\"nav-item\" style=\"display: none;\">\n            <a href=\"#\" class=\"nav-link\" data-page=\"messages\">\n              <i>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/></svg>\n              </i>\n              <span class=\"nav-text\">Messages</span>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"#\" class=\"nav-link\" data-page=\"profile\">\n              <i>\n                <svg viewBox=\"0 0 24 24\"><path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"/><circle cx=\"12\" cy=\"7\" r=\"4\"/></svg>\n              </i>\n              <span class=\"nav-text\">Profile</span>\n            </a>\n          </li>\n          <li class=\"nav-item\" style=\"display: none;\">\n            <a href=\"#\" class=\"nav-link\" data-page=\"help\">\n              <i>\n                <svg viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"/><path d=\"M12 17h.01\"/></svg>\n              </i>\n              <span class=\"nav-text\">Help</span>\n            </a>\n          </li>\n        </ul>\n      </nav>\n\n      <div class=\"sidebar-footer\" style=\"display: none;\">\n        <div class=\"user-profile\">\n          <div class=\"user-avatar\">RN</div>\n          <div class=\"user-info\">\n            <p class=\"user-name\">Rakesh Nayak</p>\n            <p class=\"user-email\">rakesh@example.com</p>\n          </div>\n        </div>\n      </div>\n    </aside>\n\n    <main class=\"main-area\">\n      <div class=\"container\" id=\"applyJobsApp\">\n        <form id=\"jobForm\">\n          <div class=\"header\">\n            <h1>Apply for Jobs</h1>\n            <p>Select a job to apply for. Your existing profile information will be used.</p>\n          </div>\n\n          <div class=\"cards-container\">\n            <div class=\"card job-selection-card\">\n              <div class=\"card-header\">\n                <div class=\"card-header-content\">\n                  <h2>\n                    <div class=\"icon-wrapper\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n                        <rect x=\"2\" y=\"7\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\n                        <path d=\"M16 3h-8v4h8V3z\"></path>\n                      </svg>\n                    </div>\n                    Job Selection\n                  </h2>\n                  <p>Choose the position you'd like to apply for.</p>\n                </div>\n              </div>\n              <div class=\"card-content\">\n                <label class=\"required-field\">Select Job Position</label>\n                <select id=\"jobSelect\">\n                  <option value=\"\">Choose a job position...</option>\n                </select>\n                <div id=\"selectedJobBox\" class=\"selected-box\" style=\"display:none\"></div>\n              </div>\n            </div>\n\n            <div class=\"card application-info-card\">\n              <div class=\"card-header\">\n                <div class=\"card-header-content\">\n                  <h2>\n                    <div class=\"icon-wrapper\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n                        <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"></path>\n                        <polyline points=\"14 2 14 8 20 8\"></polyline>\n                      </svg>\n                    </div>\n                    Your Application Information\n                  </h2>\n                  <p>This information will be included with your application.</p>\n                </div>\n                <div id=\"editButtons\" class=\"edit-buttons\">\n                  <button type=\"button\" id=\"editBtn\" class=\"btn btn-outline\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n                      <path d=\"M12 20h9\"></path>\n                      <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"></path>\n                    </svg>\n                    Edit Profile\n                  </button>\n                </div>\n              </div>\n              <div id=\"profileFields\" class=\"card-content\"></div>\n            </div>\n          </div>\n\n          <div class=\"submit-section\">\n            <button id=\"submitBtn\" type=\"submit\" class=\"btn btn-primary\" disabled>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n                <path d=\"M22 2L11 13\"></path>\n                <polygon points=\"22,2 15,22 11,13 2,9\"></polygon>\n              </svg>\n              Submit Application\n            </button>\n          </div>\n        </form>\n      </div>\n    </main>\n  </div>\n\n  <div id=\"successPopup\" class=\"popup-overlay\" aria-hidden=\"true\">\n    <div class=\"popup-content\">\n      <div class=\"popup-icon\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n        </svg>\n      </div>\n      <h3 class=\"popup-title\">Application Submitted!</h3>\n      <p class=\"popup-message\" id=\"popupMessage\">Your application has been successfully submitted.</p>\n      <button class=\"popup-close\" id=\"closePopup\">Close</button>\n    </div>\n  </div>\n\n  <div id=\"profileWarningPopup\" class=\"popup-overlay\" aria-hidden=\"true\">\n    <div class=\"popup-content\">\n      <div class=\"popup-icon\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n        </svg>\n      </div>\n      <h3 class=\"popup-title\">Profile Incomplete</h3>\n      <p class=\"popup-message\">Your profile is not yet complete. Please finish the onboarding process before you can apply for jobs. The submit button will remain disabled until your profile is marked as complete.</p>\n      <button class=\"popup-close\" id=\"closeWarningPopup\">Understood</button>\n    </div>\n  </div>\n\n  <script src=\"app.js\"></script>\n</body>\n</html>",
    "importMap": "{}",
    "js": "/* Combined JS for Sidebar (Custom3) and Application (Custom1).\n    Sidebar class is reverted to its simple, original state.\n    initApp and other functions are UNCHANGED.\n*/\n\n/* Sidebar class (from Custom3) - REVERTED */\nclass Sidebar {\n  constructor() {\n    this.sidebar = document.getElementById('sidebar');\n    this.navLinks = document.querySelectorAll('.nav-link');\n    this.init();\n  }\n\n  init() {\n    this.setupEventListeners();\n  }\n\n  setupEventListeners() {\n    this.navLinks.forEach(link => {\n      link.addEventListener('click', (e) => {\n        e.preventDefault();\n        const page = link.getAttribute('data-page');\n        \n        this.setActiveLink(link);\n\n        // Keep Appsmith behavior intact (trigger unique events)\n        if (typeof appsmith !== 'undefined' && appsmith.triggerEvent) {\n          switch (page) {\n            case 'jobs':\n              appsmith.triggerEvent('onJobs', { page: 'jobs' });\n              break;\n            case 'messages':\n              appsmith.triggerEvent('onMessages', { page: 'messages' });\n              break;\n            case 'profile':\n              appsmith.triggerEvent('onProfile', { page: 'profile' });\n              break;\n            case 'help':\n              appsmith.triggerEvent('onHelp', { page: 'help' });\n              break;\n            default:\n              appsmith.triggerEvent('onSidebarNav', { page });\n          }\n        }\n      });\n    });\n  }\n\n  setActiveLink(activeLink) {\n    this.navLinks.forEach(link => link.classList.remove('active'));\n    activeLink.classList.add('active');\n  }\n}\n\n/* Utility functions (from Custom1) - UNCHANGED */\nfunction formatLocation(locationStr) {\n  if (!locationStr) return 'N/A';\n  const trimmedLocation = locationStr.trim();\n  let parts = trimmedLocation.split(',').map(p => p.trim());\n  if (parts.length <= 2) return trimmedLocation;\n  if (parts.length > 0 && (parts[parts.length - 1].toUpperCase() === 'USA' || parts[parts.length - 1].toUpperCase() === 'US')) {\n    parts.pop();\n  }\n  if (parts.length > 0 && /^\\d{5}(-\\d{4})?$/.test(parts[parts.length - 1])) {\n    parts.pop();\n  }\n  if (parts.length >= 2) {\n    let statePart = parts[parts.length - 1];\n    let cityPart = parts[parts.length - 2];\n    if (/^\\d/.test(cityPart)) {\n      const cityWords = cityPart.split(' ');\n      cityPart = cityWords[cityWords.length - 1];\n    }\n    return `${cityPart}, ${statePart}`;\n  }\n  return trimmedLocation;\n}\n\nfunction formatSalaryRange(salaryRange) {\n  if (!salaryRange) return \"\";\n  salaryRange = salaryRange.trim();\n  const usFormatter = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 2, maximumFractionDigits: 2 });\n  const rangeRegex = /^(\\$?)(\\d+)(?:\\s*-\\s*(\\$?)(\\d+))?$/;\n  const match = salaryRange.match(rangeRegex);\n  if (match) {\n    const startNum = parseInt(match[2], 10);\n    const formattedStart = usFormatter.format(startNum);\n    if (match[4]) {\n      const endNum = parseInt(match[4], 10);\n      const formattedEnd = usFormatter.format(endNum);\n      return `${formattedStart} - ${formattedEnd}`;\n    } else {\n      return formattedStart;\n    }\n  }\n  return salaryRange;\n}\n\n/* Main application init (from Custom1) - UNCHANGED */\nfunction initApp() {\n  const jobs = (typeof appsmith !== 'undefined' && appsmith.model && appsmith.model.jobs) ? appsmith.model.jobs : [];\n  const userModel = (typeof appsmith !== 'undefined' && appsmith.model) ? appsmith.model.user : undefined;\n  const candidate = Array.isArray(userModel) && userModel.length > 0 ? userModel[0] : null;\n\n  let selectedJob = \"\";\n\n  const jobSelect = document.getElementById(\"jobSelect\");\n  const selectedJobBox = document.getElementById(\"selectedJobBox\");\n  const submitBtn = document.getElementById(\"submitBtn\");\n  const profileFields = document.getElementById(\"profileFields\");\n  const editButtons = document.getElementById(\"editButtons\");\n\n  const successPopup = document.getElementById(\"successPopup\");\n  const popupMessage = document.getElementById(\"popupMessage\");\n  const closePopupBtn = document.getElementById(\"closePopup\");\n  const profileWarningPopup = document.getElementById(\"profileWarningPopup\");\n  const closeWarningPopupBtn = document.getElementById(\"closeWarningPopup\");\n\n  // Popup handlers\n  closePopupBtn.addEventListener(\"click\", () => successPopup.classList.remove(\"show\"));\n  successPopup.addEventListener(\"click\", (e) => { if (e.target === successPopup) successPopup.classList.remove(\"show\"); });\n\n  closeWarningPopupBtn.addEventListener(\"click\", () => profileWarningPopup.classList.remove(\"show\"));\n  profileWarningPopup.addEventListener(\"click\", (e) => { if (e.target === profileWarningPopup) profileWarningPopup.classList.remove(\"show\"); });\n\n  function isUserEligible() {\n    if (!Array.isArray((typeof appsmith !== 'undefined' && appsmith.model) ? appsmith.model.user : undefined) || (typeof appsmith === 'undefined')) {\n      // If appsmith model isn't available, keep previous UX: disallow submit (but keep UI consistent)\n      if (typeof appsmith === 'undefined') return false;\n      return false;\n    }\n    const user = appsmith.model.user[0];\n    return user && user.completed === true;\n  }\n\n  function updateSubmitButtonState() {\n    const jobSelected = !!jobSelect.value;\n    const userEligible = isUserEligible();\n    submitBtn.disabled = !jobSelected || !userEligible;\n  }\n\n  // Populate jobs (defensive: jobs may be undefined)\n  (jobs || []).forEach(job => {\n    const opt = document.createElement(\"option\");\n    opt.value = String(job._id);\n    opt.textContent = `${job.title} - (${formatLocation(job.location)})`;\n    jobSelect.appendChild(opt);\n  });\n\n  jobSelect.addEventListener(\"change\", () => {\n    selectedJob = jobSelect.value;\n    updateSubmitButtonState();\n\n    if (selectedJob) {\n      const job = (jobs || []).find(j => String(j._id) === selectedJob);\n      if (job) {\n        const formattedSalary = formatSalaryRange(job.salaryRange);\n        selectedJobBox.innerHTML = `<b>${job.title}</b><br>${formattedSalary} • ${formatLocation(job.location)}`;\n        selectedJobBox.style.display = \"block\";\n      } else {\n        selectedJobBox.style.display = \"none\";\n      }\n    } else {\n      selectedJobBox.style.display = \"none\";\n    }\n  });\n\n  function renderProfile() {\n    const displayCandidate = candidate || {};\n    profileFields.innerHTML = `\n      <div class=\"profile-field-row\">\n        <div class=\"profile-field profile-field-item\"><b>Name:</b> ${displayCandidate.candidateName || \"-\"}</div>\n        <div class=\"profile-field profile-field-item\"><b>LinkedIn:</b> ${displayCandidate.linkedin ? `<a href=\"https://${displayCandidate.linkedin}\" target=\"_blank\" style=\"color: #667eea; text-decoration: none;\">${displayCandidate.linkedin}</a>` : \"-\"}</div>\n      </div>\n      <div class=\"profile-field-row\">\n        <div class=\"profile-field profile-field-item\"><b>Email:</b> ${displayCandidate.email || \"-\"}</div>\n        <div class=\"profile-field profile-field-item\">\n          <div><b>Phone:</b> ${displayCandidate.phone || \"-\"}</div>\n          ${displayCandidate.phone ? `<div class=\"sms-consent\">Opted in for texts. <a href=\"#\" id=\"smsSettingsLink\">Manage in Settings</a></div>` : ''}\n        </div>\n      </div>\n      <div class=\"profile-field-row\">\n        <div class=\"profile-field profile-field-item\"><b>Interview Slot:</b> ${displayCandidate.interviewSlot || \"-\"}</div>\n        <div class=\"profile-field profile-field-item\"><b>Notification:</b> ${displayCandidate.notificationPreference || \"-\"}</div>\n      </div>\n      <div class=\"profile-field\"><b>Resume:</b> ${displayCandidate.resume ? \"✓ Uploaded\" : \"⚠ Not Uploaded\"}</div>\n      <div class=\"profile-field\"><b>Consent:</b> ${displayCandidate.consent ? \"✓ Provided\" : \"⚠ Required\"}</div>\n      <div class=\"profile-field\"><b>Application:</b> ${displayCandidate.completed ? \"✓ Completed\" : \"⏳ In Progress\"}</div>\n    `;\n\n    editButtons.innerHTML = `\n      <button type=\"button\" id=\"editBtn\" class=\"btn btn-outline\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\"><path d=\"M12 20h9\"></path><path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"></path></svg>\n        Edit Profile\n      </button>\n    `;\n\n    const editBtn = document.getElementById(\"editBtn\");\n    if (editBtn) {\n      editBtn.onclick = () => {\n        if (typeof appsmith !== 'undefined' && appsmith.triggerEvent) {\n          appsmith.triggerEvent(\"editclick\");\n        } else {\n          // fallback: no-op for non-Appsmith environment\n          console.info(\"Edit profile clicked (appsmith not available).\");\n        }\n      };\n    }\n\n    const smsSettingsLink = document.getElementById(\"smsSettingsLink\");\n    if (smsSettingsLink) {\n      smsSettingsLink.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        if (typeof appsmith !== 'undefined' && appsmith.triggerEvent) {\n          appsmith.triggerEvent(\"smsSettingsClick\");\n        } else {\n          console.info(\"SMS Settings clicked (appsmith not available).\");\n        }\n      });\n    }\n  }\n\n  renderProfile();\n  updateSubmitButtonState();\n\n  if (!isUserEligible()) {\n    profileWarningPopup.classList.add(\"show\");\n  }\n\n  document.getElementById(\"jobForm\").addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n\n    if (!jobSelect.value) {\n      alert(\"⚠ Please select a job position.\");\n      return;\n    }\n\n    if (!isUserEligible()) {\n      alert(\"⚠ Your profile is not complete. Please finish onboarding before applying.\");\n      return;\n    }\n\n    const job = (jobs || []).find(j => String(j._id) === jobSelect.value);\n    const applicationData = {\n      jobId: job._id,\n      jobTitle: job.title,\t\t\t\n      tenantPrefix:job.tenantPrefix,\n      user: candidate\n    };\n\n    if (typeof appsmith !== 'undefined' && appsmith.updateModel) {\n      appsmith.updateModel({\n        ...appsmith.model,\n        appliedJob: applicationData\n      });\n    }\n\n    if (typeof appsmith !== 'undefined' && appsmith.triggerEvent) {\n      appsmith.triggerEvent(\"onJobApply\", applicationData);\n    }\n\n    popupMessage.textContent = `Your application for \"${job.title}\" has been successfully submitted!`;\n    successPopup.classList.add(\"show\");\n\n    jobSelect.value = \"\";\n    selectedJobBox.style.display = \"none\";\n    updateSubmitButtonState();\n  });\n}\n\n/* Initialize Sidebar and App on DOM ready or via appsmith hooks - UNCHANGED */\n(function boot() {\n  if (typeof appsmith !== 'undefined' && appsmith.onReady) {\n    appsmith.onReady(() => {\n      // init sidebar\n      try { new Sidebar(); } catch (e) { console.error(e); }\n      // init app after a small delay to mimic previous behavior and allow appsmith.model to be ready\n      setTimeout(initApp, 3000);\n    });\n  } else {\n    document.addEventListener('DOMContentLoaded', () => {\n      try { new Sidebar(); } catch (e) { console.error(e); }\n      setTimeout(initApp, 3000);\n    });\n  }\n})();"
  },
  "version": 1,
  "widgetId": "lbiq8bkaui",
  "widgetName": "Custom4"
}